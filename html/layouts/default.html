<!DOCTYPE html>
<html lang="zxx">
    <head>
        <!-- Required meta tags always come first -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta http-equiv="x-ua-compatible" content="ie=edge">

        <title> Sim noor :: {{title}}</title>
        <link rel="icon" type="image/png" href="assets/images/favicon.png" />
        	<script src="{{ root }}assets/js/core/createjs.min.js"></script>
        <script>

        // ZIMjs - http://zimjs.com - DISTILLED (131.4 KB)
        // for SimTn by education
        var zimDefaultFrame;var zog=console.log.bind(console);if(typeof zon==="undefined"){zon=false}if(typeof zns=="undefined"){zns=false}function zot(a){return a==null}function zid(a){return document.getElementById(a)}function zil(){var e=function(a){if(!a){a=event}if(a.keyCode&&(a.keyCode>=32&&a.keyCode<=40)){a.preventDefault()}};var d=function(a){if(!a){a=event}a.preventDefault()};var f=d;window.addEventListener("keydown",e,{passive:false});window.addEventListener("wheel",d,{passive:false});window.addEventListener("DOMMouseScroll",f,{passive:false});return[e,d,f]}function zet(b){function a(){var c=this;this.on=function(g,f){if(zot(b)||zot(g)||zot(f)){return}var d=c.tags;for(var e=0;e<d.length;e++){d[e].addEventListener(g,f)}};this.off=function(g,f){if(zot(b)||zot(g)||zot(f)){return}var d=c.tags;for(var e=0;e<d.length;e++){d[e].removeEventListener(g,f)}};Object.defineProperty(c,"tags",{get:function(){if(zot(b)){return[]}if(typeof b=="string"||b instanceof String){return document.querySelectorAll(b)}else{if(typeof(b).innerHTML=="string"){return[b]}return[]}},set:function(d){}});this.css=function(g,f){var d=c.tags;for(var e=0;e<d.length;e++){if(arguments.length==1&&arguments[0].constructor==={}.constructor){for(var j in g){d[e].style[j]=g[j]}}else{if(arguments.length==1){return c.tags[0].style[g]}else{d[e].style[g]=f}}}};this.prop=function(j,g){if(zot(j)){return}var e=c.tags;var d=[];for(var f=0;f<e.length;f++){if(zot(g)){if(j.constructor==={}.constructor){for(var k in j){e[f][k]=j[k]}}else{d.push(e[f][j])}}else{e[f][j]=g}}if(zot(g)){return d}}}return new a()}function zik(a){if(zot(a)){return}return zim.Pick.choose(a)}function isDUO(b){return b.length==1&&b[0].constructor==={}.constructor}function zob(a,f,j,i){if(f.length==1&&f[0].constructor==={}.constructor){var g=f[0];var b=(zot(j))?a.toString().split(/\n/,1)[0].match(/\((.*)\)/)[1].replace(/\s+/g,"").split(","):j.replace(/\s+/g,"").split(",");var c=[];var k;var d;for(k=0;k<b.length;k++){d=b[k].split("=")[0];b[k]=d;c.push(g[d])}for(k in g){if(b.indexOf(k)<0){if(zon){zog(a,"bad argument "+k)}}}var e;if(e=(a.prototype.isPrototypeOf(i))?new (a.bind.apply(a,[null].concat(c)))():a.apply(null,c)){return e}else{return true}}}if(!zns){var orange="#f58e25";var green="#acd241";var pink="#e472c4";var blue="#50c4b7";var brown="#d1a170";var yellow="#ebcb35";var purple="#993399";var red="#fb4758";var silver="#999999";var tin="#777777";var grey="#555555";var gray="#555555";var lighter="#eeeeee";var moon="#dddddd";var light="#cccccc";var dark="#333333";var darker="#111111";var black="#000000";var white="#ffffff";var clear="rgba(0,0,0,0)";var faint="rgba(0,0,0,.01)"}if(!zns){var ANIMATE=true;var OPTIMIZE=false;var ACTIONEVENT="mousedown";var POSREG=true;var DRAGALL=true}var zim=function(e){e.orange="#f58e25";e.green="#acd241";e.pink="#e472c4";e.blue="#50c4b7";e.brown="#d1a170";e.yellow="#ebcb35";e.purple="#993399";e.red="#fb4758";e.silver="#999999";e.tin="#777777";e.grey="#555555";e.gray="#555555";e.lighter="#eeeeee";e.moon="#dddddd";e.light="#cccccc";e.dark="#333333";e.darker="#111111";e.black="#000000";e.white="#ffffff";e.clear="rgba(0,0,0,0)";e.faint="rgba(0,0,0,.01)";e.ANIMATE=true;e.OPTIMIZE=false;e.ACTIONEVENT="mousedown";e.POSREG=false;e.DRAGALL=false;e.distill=function(){zog("zim.Distill() - done - you can remove command")};function b(g,f){if(f){g.mouseChildren=true;g.mouseEnabled=true;g._enabled=true}else{g.mouseChildren=false;g.mouseEnabled=false;g._enabled=false}}e.isEmpty=function(g){if(zot(g)){return}var f=0;for(var i in g){f++;break}return(f==0)};e.mergeCheck=false;e.merge=function(){var k={};var g;var f;for(g=0;g<arguments.length;g++){for(f in arguments[g]){if(arguments[g].hasOwnProperty(f)){k[f]=arguments[g][f]}}}return k};e.Point=function(k,j,i,g,f,p,o,n,m,l){if(zot(k)){k=0}if(zot(j)){j=0}if(zot(i)){i=0}if(zot(g)){g=0}if(zot(f)){f=0}if(zot(p)){p=0}if(zot(o)){o=0}if(zot(n)){n=0}if(zot(m)){m=0}if(zot(l)){l=0}this.x=k;this.y=j;this.z=i;this.q=g;this.r=f;this.s=p;this.t=o;this.u=n;this.v=m;this.w=l};e.makeID=function(n,g,k){if(zot(n)){n="mixed"}if(zot(g)){g=5}if(zot(k)){k="uppercase"}var q;var p=[2,3,4,5,6,7,8,9];var l="abcdefghjkmnpqrstuvwxyz".split("");if(n.constructor===Array){q=n}else{if(n=="numbers"){q=p}else{if(n=="letters"){q=l}else{q=p.concat(l)}}}var f="";var m;var o;for(var j=0;j<g;j++){m=q[Math.floor(Math.random()*q.length)];o=Math.random();if(k=="uppercase"||(k=="mixed"&&o>0.5)){if(m.toUpperCase){m=m.toUpperCase()}}else{if(m.toLowerCase){m=m.toLowerCase()}}f+=String(m)}return f};e.makeSeries=function(j){if(zot(j)){return function(){}}var g=0;var i=function(){return j[(g++)%j.length]};i.array=j;return i};e.Damp=function(g,f){var j="startValue, damp";var i;if(i=zob(e.Damp,arguments,j,this)){return i}this.lastValue=(zot(g))?0:g;this.damp=(zot(f))?0.1:f};e.Damp.prototype.convert=function(f){return this.lastValue=this.lastValue+(f-this.lastValue)*this.damp};e.Damp.prototype.immediate=function(f){this.lastValue=f;return this};e.Dictionary=function(i){this.length=0;this.unique=i;var g=this.objects=[];var f=this.values=[];this.add=function(k,j){if(zot(k)){return}if(zot(j)){j=true}if(this.unique){this.remove(k)}g.push(k);f.push(j);this.length++};this.at=function(k){if(zot(k)){return}var j=g.indexOf(k);if(j>-1){return f[j]}return null};this.remove=function(k){if(zot(k)){return false}var j=g.indexOf(k);if(j>-1){g.splice(j,1);f.splice(j,1);this.length--;return true}else{return false}};this.clear=function(){g=this.objects=[];f=this.values=[];this.length=null;return this};this.dispose=function(){g=null;f=null;this.length=null;return true}};e.Pick=function(g){this.choices=g;this.num=function(j){var l=[];for(var k=0;k<j;k++){l.push(e.Pick.choose(this))}this.choices=e.Pick.series(l);return this};var f=this;this.loop=function(j,l){var m;for(var k=0;k<j;k++){m=l(e.Pick.choose(f),k,j);if(typeof m!="undefined"){return m}}}};e.Pick.prototype.type="Pick";e.Pick.series=function(){return e.series.apply(null,arguments)};e.Pick.rand=function(g,f,j,i){return e.rand(g,f,j,i)};e.Pick.choose=function(g,f){if(f==null){f=true}if(g==null){return g}if(g.type=="Pick"||f){var j=g.choices||g;if(Array.isArray(j)){var i=j[Math.floor(Math.random()*(j.length))];return e.Pick.choose(i)}else{if(j.constructor==={}.constructor){if(!zot(j.noPick)){return j.noPick}if(zot(j.max)){return j}if(zot(j.integer)){j.integer=false}var i=e.Pick.rand(j.min,j.max,j.integer,j.negative);return i}else{if(typeof j=="function"){return e.Pick.choose((j)())}}}return g}else{return g}};e.scrollX=function(f,g){return e.abstractScroll("X","Left",f,g)};e.scrollY=function(f,g){return e.abstractScroll("Y","Top",f,g)};e.abstractScroll=function(j,r,m,i){var u=(j=="X")?"Y":"X";if(zot(m)){var f=0;var n=navigator.applicationName;var o=navigator.userAgent.indexOf("Safari");if(o!=-1||n=="Safari"){var f=1}return(document.documentElement&&document.documentElement["scroll"+r])||document.body["scroll"+r]}else{if(zot(i)){window.scrollTo(e["scroll"+u](),m)}else{var g=50;if(i<g){i=g}var s=i/g;var q=e["scroll"+j]();var l=m-q;var t=l/s;var p=0;var k=setInterval(function(){p++;q+=t;window.scrollTo(e["scroll"+u](),q);if(p>=s){window.scrollTo(e["scroll"+u](),m);clearInterval(k)}},g)}}return m};e.windowWidth=function(){return isNaN(window.innerWidth)?window.clientWidth:window.innerWidth};e.windowHeight=function(){return isNaN(window.innerHeight)?window.clientHeight:window.innerHeight};e.mobile=function(f){if(zot(f)){f=true}if(/ip(hone|od|ad)/i.test(navigator.userAgent)){return"ios"}if(/android|nexus/i.test(navigator.userAgent)){return"android"}if(/blackberry/i.test(navigator.userAgent)){return"blackberry"}if(/nokia|phone|mobile/i.test(navigator.userAgent)){return"windows"}if(/opera mini|webos/i.test(navigator.userAgent)){return"other"}if(f&&window.orientation!==undefined){return true}return false};e.vee=function(f){return !zot(f)&&(f.type=="Pick"||Array.isArray(f)||(f.constructor=={}.constructor&&(!zot(f.max)||!zot(f.noPick)))||typeof f=="function")};e.Ticker={stages:null,myUpdate:null,alwaysList:new e.Dictionary(),list:new e.Dictionary(),setFPS:function(f,g){if(zot(f)&&zot(g)){f=30;g=60}else{if(zot(f)){f=30}else{if(zot(g)){g=f}}}e.Ticker.framerate=createjs.Ticker.framerate=(e.mobile())?f:g},setTimingMode:function(f){createjs.Ticker.timingMode=createjs.Ticker.RAF;if(f=="synched"){createjs.Ticker.timingMode=createjs.Ticker.RAF_SYNCHED}if(f=="timeout"){createjs.Ticker.timingMode=createjs.Ticker.TIMEOUT}},add:function(j,i){var g=e.Ticker;if(g.has(j,i)){return j}if(!g.framerate){g.setFPS()}if(zot(i)||!i.update){i=zimDefaultFrame.stage}if(zot(j)||typeof j!=="function"){zog("zim.Ticker.add() - only add functions");return}if(!g.ticker){g.ticker=createjs.Ticker.on("tick",g.call)}if(g.list.at(i)){g.list.at(i).push(j)}else{g.list.add(i,[j])}return j},rawID:{},raw:function(i){var j=e.makeID(7,"letters");-function g(f){i(f);e.Ticker.rawID[j]=requestAnimationFrame(g)}();return j},removeRaw:function(f){cancelAnimationFrame(e.Ticker.rawID[f]);delete e.Ticker.rawID[f]},call:function(n){var k=e.Ticker;var l,m;for(var g=0;g<k.list.length;g++){l=k.list.objects[g];m=k.list.values[g];for(var f=0;f<m.length;f++){m[f](n)}if(k.alwaysList.at(l)){l.update()}else{if(m.length>0){if(zot(k.update)&&(!e.OPTIMIZE&&(zns||!OPTIMIZE))){l.update()}else{if(k.update){l.update()}}}}}for(g=0;g<k.alwaysList.length;g++){l=k.alwaysList.objects[g];if(k.list[l]==null){l.update()}}},always:function(g){var f=e.Ticker;if(!f.framerate){f.setFPS()}if(zot(g)||!g.update){g=zimDefaultFrame.stage}f.alwaysList.add(g,true);if(!f.ticker){f.ticker=createjs.Ticker.on("tick",f.call)}},alwaysOff:function(g){var f=e.Ticker;if(zot(g)||!g.update){g=zimDefaultFrame.stage}f.alwaysList.remove(g)},remove:function(n){var k=e.Ticker;if(zot(n)||typeof n!=="function"){zog("zim.Ticker - only remove functions");return}var m=0;var l;for(var j=0;j<k.list.length;j++){l=k.list.objects[j];var g=k.list.values[j].indexOf(n);if(g>-1){k.list.values[j].splice(g,1)}m+=k.list.values[j].length}if(k.alwaysList.length>0){return}if(m==0){createjs.Ticker.off("tick",k.ticker);k.ticker=null}},removeAll:function(k){var j=e.Ticker;var l=0;var f;for(var g=0;g<j.list.length;g++){f=j.list.objects[g];if(zot(k)||k===f){j.list.values[g]=[]}l+=j.list.values[g].length}if(j.alwaysList.length>0){return}if(l==0){createjs.Ticker.off("tick",j.ticker);j.ticker=null}},has:function(i,g){if(zot(g)||!g.update){g=zimDefaultFrame.stage}return e.Ticker.list&&e.Ticker.list.at(g)&&e.Ticker.list.at(g).indexOf(i)>=0},dispose:function(k){var j=e.Ticker;var l=0;var f;for(var g=j.list.length-1;g>=0;g--){f=j.list.objects[g];if(zot(k)||k===f){j.list.remove(k);j.alwaysList.remove(k)}else{l+=j.list.values[g].length}}if(j.alwaysList.length>0){return}if(l==0){createjs.Ticker.off("tick",j.ticker);j.ticker=null}return true}};Object.defineProperty(e.Ticker,"update",{get:function(){return e.Ticker.myUpdate},set:function(g){var f=e.Ticker;if(typeof g!="boolean"){g=null}f.myUpdate=g;if(f.myUpdate===false){cancelAnimationFrame(f.ticker);f.alwaysList=new e.Dictionary()}}});e.drag=function(j,L,m,aa,E,M,D,P,f,g,N,p,W,C,ac,J,v){var x="obj, boundary, overCursor, dragCursor, all, swipe, localBounds, onTop, surround, slide, slideDamp, slideSnap, reg, removeTweens, startBounds, rect, currentTarget";var k;if(k=zob(e.drag,arguments,x)){return k}if(zot(j)||!j.on){return}var l=e.DRAGALL;if(typeof DRAGALL!==typeof undefined){l=DRAGALL}if(zot(E)&&zot(v)){E=l}if(j.zimDown){j.noDrag()}j.cursor=(zot(m))?"pointer":m;if(zot(E)&&zot(v)){v=false}else{if(!zot(E)){v=E}else{if(zot(v)){v=false}}}if(j.type=="Tag"||j.type=="TextArea"||j.type=="Loader"){v=true}if(zot(M)){M=false}if(zot(D)){D=false}if(zot(P)){P=true}if(zot(f)){f=false}if(zot(g)){g=false}if(zot(N)){N=0.3}if(zot(p)){p=true}var H=["horizontal","vertical","auto"];if(p!==true&&H.indexOf(p)<0){p=false}if(zot(W)){W=false}if(zot(C)){C=true}if(zot(ac)){ac=true}if(zot(L)&&!zot(J)){L=J}if(g){var B;var A;var I;var u;var T;var S;var ad;var ab;var R;var Q;var s;var q;var o;var n}e.setSwipe(j,M);j.zimBoundary=L;j.zimLocalBounds=D;var K=false;var Y=false;var V;var U;var O;var Z;var z;j.zimAdded=j.on("added",t,null,true);j.zimRemoved=j.on("removed",G,null,true);if(j.parent){t()}function t(){V=0;U=0;if(j.zimBoundary){if(D){Z=e.boundsToGlobal(j.parent,j.zimBoundary);if(f){z=j.zimBoundary}}else{Z=j.zimBoundary;if(f){z=e.boundsToGlobal(j.parent,j.zimBoundary,true)}}}if(Z&&ac){O=j.parent.localToGlobal(j.x,j.y);y(j,O.x,O.y)}if(g){setTimeout(function(){B=new e.Damp(j.x,N);A=new e.Damp(j.y,N);j.zimDragImmediate=function(r,ae){R=r;Q=ae;ad=s=ab=q=0;if(!zot(r)){B.immediate(r)}if(!zot(ae)){A.immediate(ae)}};I=3;u=0;T=[];S=[];ad=j.x;ab=j.y;R=j.x;Q=j.y;s=j.x;q=j.y;o=-10000;n=-10000;j.zimDragMoving=true;X()},50)}if(!zot(j.zimMaskDynamic)){j.zimMaskApply()}}function G(){if(j.zimDragTicker){e.Ticker.remove(j.zimDragTicker)}}var F;j.pointers={};j.zimDown=j.on("mousedown",function(ae){if(!j.stage){return}j.dragMouseX=Math.round(ae.stageX);j.dragMouseY=Math.round(ae.stageY);var ag="id"+Math.abs(ae.pointerID+1);j.pointers[ag]=true;F=(v)?ae.currentTarget:ae.target;if(j.zimBoundary&&!F.getBounds()){zog("zim.drag() - drag object needs bounds set");return}K=true;j.stage.mouseMoveOutside=true;if(!g){if(j.zimDragTicker){e.Ticker.remove(j.zimDragTicker)}j.zimDragTicker=e.Ticker.add(function(){},j.stage)}if(C){createjs.Tween.removeTweens(F)}if(!F.parent){return}if(P){var af=F.parent.numChildren-1;if(F.parent.getChildAt(af).type=="Keyboard"){af--}F.parent.setChildIndex(F,af);if(F.ZIMoutlineShape){F.outline()}}var r=F.parent.globalToLocal(ae.stageX,ae.stageY);if(W){F.x=r.x;F.y=r.y}V=r.x-F.x;U=r.y-F.y;if(j.zimBoundary){if(D){Z=e.boundsToGlobal(F.parent,j.zimBoundary);if(f){z=j.zimBoundary}}else{Z=j.zimBoundary;if(f){z=e.boundsToGlobal(F.parent,j.zimBoundary,true)}}}j.cursor=(zot(aa))?"pointer":aa;if(g){u=0;T=[r.x];S=[r.y];o=-10000;n=-10000;j.zimDragMoving=true}if(j.type=="Pen"){j.zimDragCheck=true;Y=false}},true);j.zimMove=j.on("pressmove",function(r){if(!K){return}j.dragMouseX=Math.round(r.stageX);j.dragMouseY=Math.round(r.stageY);y(F,r.stageX,r.stageY);if(F.ZIMoutlineShape){F.outline()}if(j.type=="Pen"&&!Y&&j.drawing){Y=true}else{if(j.type=="Tag"||j.type=="TextArea"||j.type=="Loader"){j.resize()}}},true);function y(ah,ae,ai){if(zot(ah)){ah=(F)?F:j}if(!ah.parent){return}if(zot(ae)||zot(ai)){var af=ah.parent.localToGlobal(ah.x,ah.y);V=U=0;if(j.zimBoundary){if(D){Z=e.boundsToGlobal(ah.parent,j.zimBoundary);if(f){z=ah.zimBoundary}}else{Z=j.zimBoundary;if(f){z=e.boundsToGlobal(ah.parent,j.zimBoundary,true)}}}ae=af.x;ai=af.y;if(g){R=ah.x;Q=ah.y;F=ah;if(B){B.immediate(R)}if(A){A.immediate(Q)}}}var r=ah.parent.globalToLocal(ae,ai);var ag;if(g&&p){if(p=="vertical"){ag=i(ah,r.x-V,r.y-U);ah.x=ag.x;ah.y=r.y-U}else{if(p=="horizontal"){ag=i(ah,r.x-V,r.y-U);ah.x=r.x-V;ah.y=ag.y}else{ah.x=r.x-V;ah.y=r.y-U}}}else{ag=i(ah,r.x-V,r.y-U);ah.x=ag.x;ah.y=ag.y}}j.zimPosition=y;j.zimUp=j.on("pressup",function(af){var ah="id"+Math.abs(af.pointerID+1);delete j.pointers[ah];if(!K){return}j.cursor=(zot(m))?"pointer":m;if(g){var r=F.parent.globalToLocal(af.stageX,af.stageY);K=false;ad=r.x;ab=r.y;R=F.x;Q=F.y;B.immediate(F.x);A.immediate(F.y)}else{var ae=0;for(var ag in j.pointers){ae++}if(ae==0){e.Ticker.remove(j.zimDragTicker)}if(j.type=="Pen"){j.zimDragCheck=false;if(Y){j.stopCheck()}}}if(j.stage){j.stage.update()}},true);function i(aj,ae,ak){if(Z){if(f){var af=aj.getBounds().width;var ag=aj.getBounds().height;var ai=aj.getBounds().x;var ah=aj.getBounds().y;if(af<z.width){ae=z.x+(z.width-af)/2+(aj.regX-ai)}else{if(ae-(aj.regX-ai)>z.x){ae=z.x+(aj.regX-ai)}if(ae-(aj.regX-ai)+af<z.x+z.width){ae=z.x+z.width+(aj.regX-ai)-af}}if(aj.height<z.height){ak=z.y+(z.height-ag)/2+(aj.regY-ah)}else{if(ak-(aj.regY-ah)>z.y){ak=z.y+(aj.regY-ah)}if(ak-(aj.regY-ah)+ag<z.y+z.height){ak=z.y+z.height+(aj.regY-ah)-ag}}}else{var r=aj.parent.localToGlobal(ae,ak);ae=Math.max(Z.x,Math.min(Z.x+Z.width,r.x));ak=Math.max(Z.y,Math.min(Z.y+Z.height,r.y));r=aj.parent.globalToLocal(ae,ak);ae=r.x;ak=r.y}}return{x:ae,y:ak}}function X(){var r=j.stage;j.zimDragTicker=function(){if(!F){F=j}if(K){var af=F.parent.globalToLocal(j.dragMouseX,j.dragMouseY);u++;T.push(af.x);S.push(af.y);if(u>=I){s=T.shift();q=S.shift()}else{s=T[0];q=S[0]}}else{if(!j.zimDragMoving){return}var ai=R+ad-s;var ag=Q+ab-q;if(Z){var ah=i(F,ai,ag);ai=ah.x;ag=ah.y}if(!p){var ah=i(F,B.convert(ai),A.convert(ag));F.x=ah.x;F.y=ah.y;ae(F,F.x,F.y,F.x,F.y)}else{F.x=B.convert(ai);F.y=A.convert(ag);ae(F,F.x,F.y,ai,ag)}}};function ae(ai,af,aj,ah,ag){if(Math.abs(ai.x-o)<0.1&&Math.abs(ai.y-n)<0.1){j.zimDragMoving=false;ai.x=ah;ai.y=ag;ai.dispatchEvent("slidestop");if(j.type=="Pen"){j.zimDragCheck=false;if(Y){j.stopCheck()}}}else{o=af;n=aj}}e.Ticker.add(j.zimDragTicker,r)}return j};e.setSwipe=function(i,f){if(zot(i)||!i.on){return}i.zimNoSwipe=(f)?null:true;if(i instanceof createjs.Container){g(i)}function g(j){var l=j.numChildren;var k;for(var m=0;m<l;m++){k=j.getChildAt(m);k.zimNoSwipe=i.zimNoSwipe;if(k instanceof createjs.Container){g(k)}}}return i};e.boundsCheck=false;e.boundsToGlobal=function(g,l,i){if(zot(g)||!g.getBounds){return}if(zot(i)){i=false}var j=g.getBounds();if(!j&&zot(l)){zog("zim methods - boundsToGlobal():\n please setBounds() on object (or a rectangle)");return}if(l){j=l}if(i){var n=g.globalToLocal(j.x,j.y);var k=g.globalToLocal(j.x+j.width,j.y);var m=g.globalToLocal(j.x+j.width,j.y+j.height);var f=g.globalToLocal(j.x,j.y+j.height)}else{var n=g.localToGlobal(j.x,j.y);var k=g.localToGlobal(j.x+j.width,j.y);var m=g.localToGlobal(j.x+j.width,j.y+j.height);var f=g.localToGlobal(j.x,j.y+j.height)}var r=Math.min(n.x,k.x,m.x,f.x);var p=Math.min(n.y,k.y,m.y,f.y);var q=Math.max(n.x,k.x,m.x,f.x);var o=Math.max(n.y,k.y,m.y,f.y);return new createjs.Rectangle(r,p,q-r,o-p)};e.pos=function(r,p,o,z,n,s,m,t,l,g,f){var k="obj, x, y, right, bottom, container, index, add, reg, regX, regY";var v;if(v=zob(e.pos,arguments,k)){return v}var q=e.POSREG;if(typeof POSREG!==typeof undefined){q=POSREG}if(zot(l)){l=q}if(zot(r)){return}if(zot(l)&&zot(g)){g=false}if(zot(l)&&zot(f)){f=false}if(!zot(l)&&zot(g)){g=l}if(!zot(l)&&zot(f)){f=l}if(z!==true){z=false}if(n!==true){n=false}if(zot(t)){t=true}if(!zot(s)&&!s.addChild){s=null}if(!r.getBounds&&!object.getBounds()){g=f=false}if(zot(s)){if(r.parent){s=r.parent}else{if(zimDefaultFrame){s=zimDefaultFrame.stage}}}if(!r.parent&&zot(p)){p=0}if(!r.parent&&zot(o)){o=0}if(!zot(s)&&s.addChild&&t){if(zot(m)||(typeof m==="number"&&isNaN(m))){if(!s.contains(r)){s.addChild(r)}}else{s.addChildAt(r,m)}}if(r.parent&&r.parent.getBounds){s=r.parent;if(zot(p)&&z==true){p=0}if(zot(o)&&n==true){o=0}if(!zot(p)){r.x=p}if(!zot(o)){r.y=o}if(zot(p)&&zot(o)&&!z&&!n){return r}var C=0;var B=0;if(r.getBounds()){var j=i();function i(){var E=r.getBounds();var O=E.x,M=E.y,G=E.width,R=E.height,H=r._props.matrix;H=r.getMatrix(H);if(O||M){H.appendTransform(0,0,1,1,0,0,0,-O,-M)}var P=G*H.a,N=G*H.b;var S=R*H.c,Q=R*H.d;var L=H.tx,K=H.ty;var J=L,F=L,I=K,D=K;if((O=P+L)<J){J=O}else{if(O>F){F=O}}if((O=P+S+L)<J){J=O}else{if(O>F){F=O}}if((O=S+L)<J){J=O}else{if(O>F){F=O}}if((M=N+K)<I){I=M}else{if(M>D){D=M}}if((M=N+Q+K)<I){I=M}else{if(M>D){D=M}}if((M=Q+K)<I){I=M}else{if(M>D){D=M}}return{x:J,y:I,width:F-J,height:D-I}}if(!zot(p)){if(!z){var u=new e.Point(j.x,j.y)}else{var u=new e.Point(j.x+j.width,j.y+j.height)}C=u.x-p}if(!zot(o)){if(!n){var u=new e.Point(j.x,j.y)}else{var u=new e.Point(j.x+j.width,j.y+j.height)}B=u.y-o}var A=s.getBounds();if(!zot(p)){if(z){if(g){r.x=A.width+A.x-p}else{r.x=A.width+A.x-p-C}}else{if(g){r.x=p}else{r.x=p-C}r.x+=A.x}}if(!zot(o)){if(n){if(f){r.y=A.height+A.y-o}else{r.y=A.height+A.y-o-B}}else{if(f){r.y=o}else{r.y=o-B}r.y+=A.y}}}}return r};e.loc=function(i,k,l,f,j,p,o,m){var q="obj, target, y, container, index, add, localToLocal, x";var g;if(g=zob(e.loc,arguments,q)){return g}if(zot(i)){return}if(typeof k=="number"){m=k;k=null}if(!zot(k)){if(!zot(k.x)){m=k.x}if(!zot(k.y)){l=k.y}}if(zot(m)&&zot(k)){m=i.x}if(zot(l)&&zot(k)){l=i.y}if(zot(p)){p=true}if(zot(f)){if(i.parent){f=i.parent}else{if(zimDefaultFrame){f=zimDefaultFrame.stage}}}if(p&&f){if(!i.parent||f!=i.parent){if(zot(j)||isNaN(j)){f.addChild(i)}else{f.addChildAt(i,j)}}}if(zot(o)){o=true}if(k&&k.parent&&i.parent&&o){var n=k.parent.localToLocal(m,l,i.parent);m=n.x;l=n.y}i.x=m;i.y=l;return i};e.mov=function(i,f,k){var j="obj, x, y";var g;if(g=zob(e.mov,arguments,j)){return g}if(zot(i)){return}if(!zot(f)){i.x+=f}if(!zot(k)){i.y+=k}return i};e.alp=function(g,f){if(zot(g)){return}if(!zot(f)){g.alpha=g.hovOriginal=f}return g};e.sca=function(g,i,f){if(zot(g)||zot(g.scaleX)){return}if(zot(i)){i=g.scaleX}if(zot(f)){f=i}g.scaleX=i;g.scaleY=f;return g};e.animate=function(ah,N,a6,bQ,m,bk,a7,V,aS,ba,ag,bd,r,E,an,a4,q,aA,bL,au,p,bN,n,bH,bP,aU,bD,Z,b0,bW,aN,bE,bU,L,bR,aZ,bm,aR,bZ,X,T){var bf="target, props, time, ease, call, params, wait, waitedCall, waitedParams, loop, loopCount, loopWait, loopCall, loopParams, loopWaitCall, loopWaitParams, rewind, rewindWait, rewindCall, rewindParams, rewindWaitCall, rewindWaitParams, sequence, sequenceCall, sequenceParams, sequenceReverse, ticker, cjsProps, css, protect, override, from, set, id, events, sequenceTarget, dynamic, drag, clamp, startPaused, obj";var ae;if(ae=zob(e.animate,arguments,bf)){return ae}if(e.ANIMATE==false||(!window.zns&&!ANIMATE)){return ah}var v=Array.prototype.slice.call(arguments);if(zot(N)&&!zot(T)){N=T}T=N;if(zot(T)){if(zon){zog("animate() - need props")}return ah}ah=e.Pick.choose(ah);a6=e.Pick.choose(a6);bQ=e.Pick.choose(bQ);a7=e.Pick.choose(a7);ag=e.Pick.choose(ag);bd=e.Pick.choose(bd);q=e.Pick.choose(q);aA=e.Pick.choose(aA);aU=e.Pick.choose(aU);bE=e.Pick.choose(bE);bU=e.Pick.choose(bU);var by={override:((!zot(ah)&&!zot(ah.zimX)&&!zot(T.x))||(!zot(ah)&&!zot(ah.zimY)&&!zot(T.y)))};if(!zot(ba)){by.loop=ba}if(!zot(ag)){by.count=ag}if(!zot(bd)){by.loopWait=bd}if(!zot(r)){by.loopCall=r}if(!zot(a4)){by.loopWaitParams=a4}if(!zot(an)){by.loopWaitCall=an}if(!zot(E)){by.loopParams=E}if(!zot(q)){by.rewind=q}if(!zot(aA)){by.rewindWait=aA}if(!zot(bL)){by.rewindCall=bL}if(!zot(au)){by.rewindParams=au}if(!zot(p)){by.rewindWaitCall=p}if(!zot(bN)){by.rewindWaitParams=bN}if(!zot(N)){by=e.merge(by,Z)}Z=by;if(zot(n)){n=0}var aZ;if(n>0&&ah.addChild){var be=[];for(var bs=0;bs<ah.numChildren;bs++){be.push(ah.getChildAt(bs))}aZ=ah;ah=be}if(ah instanceof Array){if(aU){ah.reverse()}var u=0;for(var bs=0;bs<ah.length;bs++){-function(){var i=bs;if(bE){var j;ah[i].zimObj={};for(var o in T){j=e.Pick.choose(T[o]);ah[i].zimObj[o]=ah[i][o];ah[i][o]=j}}else{ah[i].zimObj={};for(var o in T){ah[i].zimObj[o]=e.Pick.choose(T[o])}}setTimeout(function(){var b2=ah[u];u++;e.animate(b2,b2.zimObj,a6,bQ,m,bk,a7,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,bD,e.copy(Z),b0,bW,aN,null,bU,L,bR,aZ,bm,aR,bZ,X,T);if(i==ah.length-1&&bH){var b3=((a6)?a6:1000)+((a7)?a7:0);if(Z&&Z.rewind){b3+=((a6)?a6:1000)+((Z.rewindWait)?Z.rewindWait:0)}if(Z&&Z.loop&&Z.loopWait){b3+=Z.loopWait}setTimeout(function(){bH(bP)},b3)}},n*bs)}()}return aZ}var bh=a6;if(zot(bh)){bh=1000}if(zot(bQ)){bQ="quadInOut"}if(zot(a7)){a7=0}if(zot(Z)){Z={override:(!zot(ah.zimX)&&!zot(T.x)||!zot(ah.zimY)&&!zot(T.y))}}if(zot(bk)){bk=ah}if(zot(bD)){bD=true}if(zot(b0)){b0=false}if(zot(bW)){bW=false}if(zot(bE)){bE=false}if(zot(bU)){bU={}}if(bU.scale){bU.scaleX=bU.scaleY=bU.scale;delete bU.scale}if(!zot(aN)){Z.override=aN}if(zot(aR)){aR=false}if(zot(X)){X=aR?true:false}if(zot(bm)){bm=false}if(zot(bZ)){bZ=true}var F;var af;var bi;if(T instanceof Array){var H;var b1=1;if(T.length==0){return this}a0();W();bw();function bw(){var b5;var j=a7;var b4=0;var b3;for(var b2=0;b2<T.length;b2++){b5=T[b2];if(zot(b5.target)){continue}if(zot(b5.time)){b5.time=bh}j+=(b5.wait?b5.wait:0);b3=b5.time;if(b5.rewind){b3=b3*2+(b5.rewindWait?b5.rewindWait:0)}if(b5.loop){b3*=b5.loopCount;b3+=(b5.loopCount-1)*(b5.loopWait?b5.loopWait:0)}var t={target:b5.target,obj:e.copy(b5.obj),wait:b4+j,waitedCall:b5.waitedCall,waitedParams:b5.waitedParams,time:b5.time,ease:b5.ease,from:b5.from,rewind:b5.rewind,call:b5.call,params:b5.params,loop:b5.loop,loopCount:b5.loopCount,loopWait:b5.loopWait,loopCall:b5.loopCall,loopParams:b5.loopParams,loopWaitCall:b5.loopWaitCall,loopWaitParams:b5.loopWaitParams,rewind:b5.rewind,rewindWait:b5.rewindWait,rewindCall:b5.rewindCall,rewindParams:b5.rewindParams,rewindWaitCall:b5.rewindWaitCall,rewindWaitParams:b5.rewindWaitParams,set:e.copy(b5.masterSet),override:false,id:L};if(b2==T.length-1){aH(t)}e.animate(t);b4+=j+b3;j=0}}function aH(i){if(Z.loop&&(!Z.count||b1<Z.count)){i.call=function(){if(Z.loopCall&&typeof Z.loopCall=="function"){(Z.loopCall)(Z.loopParams)}if(Z.loopWait){if(zot(ah.zimTweens)){ah.zimTweens={}}F=ah.zimTweens[L]=ah.zimTween=createjs.Tween.get(ah,{override:Z.override}).wait(Z.loopWait,true).call(j)}else{j()}function j(){for(var o=0;o<H.objects.length;o++){if(H.objects[o].set){H.objects[o].set(H.values[o])}}if(Z.loopWaitCall&&typeof Z.loopWaitCall=="function"){(Z.loopWaitCall)(Z.loopWaitParams)}bw()}}}else{i.call=function(){if(m&&typeof m=="function"){(m)(bk)}bO(L)}}b1++}function a0(){var b5=new e.Dictionary();H=new e.Dictionary();for(var b4=0;b4<T.length;b4++){bl=T[b4];if(!ah){ah=bl.target}if(zot(bl.target)){bl.target=ah}if(zot(bl.ease)){bl.ease=bQ}if(zot(bl.target)){continue}if(zot(bl.props)&&!zot(bl.obj)){bl.props=bl.obj}bl.obj=bl.props;if(bl.loop&&(zot(bl.loopCount)||bl.loopCount<=0)){bl.loopCount=0;T.splice(b4+1,T.length)}if(!zot(bl.obj.scale)){bl.obj.scaleX=bl.obj.scaleY=bl.obj.scale;delete bl.obj.scale}if(bl.from){var t=b5.at(bl.target);if(t){if(bl.set){var b2=e.copy(bl.obj);var o=e.merge(t,bl.set);bl.obj=bT(bl.target,bl.obj,o);bl.set=e.merge(bl.set,b2)}else{bl.set=e.copy(bl.obj);bl.obj=bT(bl.target,bl.obj,t)}bl.from=false}else{b5.add(bl.target,bT(bl.target,bl.obj,bl.set))}}var j={};for(var b3 in bl.obj){j[b3]=bl.set?(bl.set[b3]?bl.set[b3]:bl.target[b3]):bl.target[b3]}if(zot(H.at(bl.target))){H.add(bl.target,{})}var b6=e.merge(H.at(bl.target),j);H.remove(bl.target);H.add(bl.target,b6);bl.masterSet=e.copy(bl.set)}if(zot(ah.zimTweens)){ah.zimTweens={}}}return ah}if(T){if(T.x){ah.zimX=true}if(T.y){ah.zimY=true}}if(!zot(T.shape)&&T.shape.type==ah.type&&(ah.type=="Blob"||ah.type=="Squiggle")){var a5=ah.pointObjects;var a9=T.shape.pointObjects;if(a5.length!=a9.length){if(zon){zog("ZIM animate() - shapes must be of same number of points")}delete T.shape}else{var ap=T.shape;delete T.shape;var S=zot(T.blobShift)?0:T.blobShift;delete T.blobShift;var ai=true;for(var bs=0;bs<a5.length;bs++){var y=a5[bs];var bF=a9[(a5.length*20000+bs+S)%a5.length];for(bp=0;bp<4;bp++){if(bp==1){continue}var s=y[bp];var R=bF[bp];var bI=e.copy(v);bI[0]=s;bI[1]={x:bF[bp].x,y:bF[bp].y,rotation:bF[bp].rotation};if(ai){bI[34]=true;if(s.animateEvent){s.off("animation",s.animateEvent)}s.animateEvent=s.on("animation",function(){ah.update()})}ai=false;e.animate.apply(e.animate,bI)}}if(e.isEmpty(T)){return ah}}}if(zot(ah)){return}function aG(i,j){return !!Object.getOwnPropertyDescriptor(i,j)["get"]}var bJ=ah.requestedPercentComplete||(ah.percentComplete&&!aG(ah,"percentComplete"))?ah.percentComplete:null;ah.requestedPercentComplete=null;if(zot(bJ)){bJ=0}if(b0){bD=false}if(zot(ah.zimTweens)){ah.zimTweens={}}var bq;if(!b0){if(!ah.stage){if(zimDefaultFrame){bq=zimDefaultFrame.stage}else{return}}else{bq=ah.stage}}if(!zot(T.scale)){T.scaleX=T.scaleY=e.Pick.choose(T.scale);delete T.scale}if(ah.setColorRange&&!zot(T.color)){var bM=T.color;delete T.color;T.colorRange=1;ah.setColorRange(ah.color,bM);ah.colorRange=0}for(var bl in T){if(!ah.zimBusy){break}if(ah.zimBusy[bl]){delete T[bl]}}if(e.isEmpty(T)){return}ah.paused=false;var aM=ah.mouseEnabled;function bo(){ah.mouseEnabled=false;setTimeout(function(){if(!ah.zimBusy){ah.zimBusy={}}for(var i in T){ah.zimBusy[i]=true}ah.mouseEnabled=aM},70)}if(bW||Z.loop||Z.rewind){bo()}W();function W(){if(zot(L)){L=e.makeID(10)}else{L=String(L);bi=L}if(zot(ah.zimIdSets)){ah.zimIdSets={}}if(!zot(ah.zimIdSets[L])){af=L;L=e.makeID(10);ah.zimIdSets[af].push(L)}else{if(!zot(ah.zimTweens[L])){af=L;L=e.makeID(10);ah.zimIdSets[af]=[af];ah.zimTweens[af].zimIdSet=af;ah.zimIdSets[af].push(L)}}}var aL=["extra","zoom","speed","layer","fade"];var bt={zoom:ah.type=="Pen"?"size":"scale",speed:"percentSpeed",layer:"layer",fade:"alpha"};for(var bs in T){if(aL.indexOf(bs)>=0){continue}T[bs]=e.Pick.choose(T[bs])}aL.shift();for(bs in bU){bU[bs]=e.Pick.choose(bU[bs])}for(bs in Z){if(bs=="waitedCall"||bs=="waitedParams"||bs=="loopCall"||bs=="rewindCall"||bs=="loopWaitCall"||bs=="rewindWaitCall"){continue}Z[bs]=e.Pick.choose(Z[bs])}for(bs in T){if(typeof T[bs]=="string"){T[bs]=ah[bs]+Number(T[bs].replace(/\s/g,""))}}for(bs in bU){if(typeof bU[bs]=="string"){bU[bs]=ah[bs]+Number(bU[bs].replace(/\s/g,""))}}if(ah.getBounds&&zot(ah.percentCompleteCheck)){ah.percentCompleteCheck=true;Object.defineProperty(ah,"percentComplete",{get:function(){if(this.zimTween){return this.zimTween.duration?this.zimTween.position/this.zimTween.duration*100:0}else{return 0}},set:function(i){if(this.zimTween){this.zimTween.startPaused=false;if(!bm){this.zimTween.setPosition(Math.round(i*this.zimTween.duration/100))}else{if(!zot(this.zimTween.currentTime)){this.zimTween.currentTime=this.zimTween.currentTime-this.zimTween.position+i*this.zimTween.duration/100}}aE()}else{this.requestedPercentComplete=i}}})}var I;if(!zot(T.path)&&T.path.segmentPoints){if(ah.type=="Pen"){ah.infinite=true}ah.zimOnPath=true;if(zot(ah.pathRatio)){ah.pathRatio=0}if(zot(T.orient)){T.orient=T.path}I=T.path;var bz=!I.lockControls;delete T.path;T.pathRatio=1}if(bE){T=bT(ah,T,bU,true)}function bT(o,j,b2,t){if(I&&(!zot(o.percentComplete)||(b2&&!zot(b2.percentComplete)))){if(!b2){b2={}}if(zot(b2.pathRatio)){b2.pathRatio=!zot(b2.percentComplete)?b2.percentComplete/100:o.percentComplete/100}}var i={};for(bs in j){if(b2&&!zot(b2[bs])){i[bs]=b2[bs]}else{i[bs]=o[bs]}if(t){o[bs]=j[bs]}}return i}var bu=ah.percentComplete;var B=true;var aY=false;var f=true;var bG=0;var A=true;if(!zot(T.redirect)){A=T.redirect;delete T.redirect}if(I){var ac;var l;if(!bz){ac=e.copy(I.segmentPoints);l=e.copy(I.segmentRatios)}var ab=I.getCurvePoint(ah.pathRatio,l,ac);if(ah.parent&&ab){var ak=ah.parent.globalToLocal(ab.x,ab.y);ah.x=ak.x;ah.y=ak.y}if(aR){ah.cursor="pointer";var U=ah.percentComplete;var k=X?X:ah.paused;var z;ah.zimAnimateDragDown=ah.on("mousedown",function(i){B=false;f=true;setTimeout(function(){B=true},50);z=F.forward;aY=true;bK(i);aC.immediate(U)});ah.zimAnimateDragPress=ah.on("pressmove",bK);function bK(b5){var b6=I.getAdjacentSegmentData(bG);var b9=b6[0];var b3=b6[1];var b7=I.globalToLocal(b5.stageX,b5.stageY);var j=closestPointAlongCurve(b7,b9,20,false,true);j=j/100;var b4=I.segmentRatios;b4.unshift(0);var ca=[];for(var b2=b4.length-2;b2>=0;b2--){ca.unshift(b4[b2+1]-b4[b2])}var o=0;for(b2=0;b2<b3.length;b2++){o+=ca[b3[b2]]}var b8=j*o;var t=b4[b3[0]];if(t+b8>1){newPP=(t+b8)-1}else{newPP=t+b8}newPP=newPP*100;if(q){newPP=newPP/2;if(F.position>F.duration/2){newPP=100-newPP}}U=constrain(newPP,0,99.5)}ah.zimAnimateDragUp=ah.on("pressup",function(){if(ah.paused==false){aY=false}B=false;setTimeout(function(){B=true},50);if(!ah.paused&&q&&z!=F.forward&&A){ah.percentComplete=100-ah.percentComplete}});var aC=new e.Damp(U,0.2);var Q=0;ah.zimDragAnimateTicker=e.Ticker.add(function(){if(!aR){return}if(aY||(f&&ah.paused==true)){if(I.type=="Blob"&&Math.abs(Q-U)>(q?45:90)){var i=U;aC.immediate(i)}else{var i=aC.convert(U)}if(Math.abs(Q-i)>0.1){ah.percentComplete=i;Q=i}else{ah.percentComplete=Q;f=false}}else{f=false}},bq)}}var a8;if(T.orient){if(T.orient===true){var aD=ah.parent.localToGlobal(!zot(T.x)?T.x:ah.x,!zot(T.y)?T.y:ah.y);T.orient={x:aD.x,y:aD.y}}a8=T.orient;delete T.orient;var bx=ah.rotation;if(a8!=I){var bn;if(a8.parent){bn=a8.parent.localToLocal(a8.x,a8.y,ah.parent)}else{bn=ah.parent.globalToLocal(a8.x,a8.y)}ah.rotation=e.angle(ah.x,ah.y,bn.x,bn.y)+bx}}var aK;var D;if(T.flip){aK=T.flip;delete T.flip;D=ah.scaleX}var a1;var C;if(T.flipVertical){a1=T.flipVertical;delete T.flipVertical;C=ah.scaleY}var ar=ah.x;var aq=ah.y;var aj=0;if(Z.loop){if(!zot(Z.count)){aj=Z.count;delete Z.count;var b1=1}}var aO=0;if(Z.loopWait){aO=Z.loopWait;delete Z.loopWait}var M;if(Z.loopCall){M=Z.loopCall;delete Z.loopCall}var ay=ah;if(Z.loopParams){ay=Z.loopParams;delete Z.loopParams}function a3(){if(M&&typeof M=="function"){(M)(ay)}}var K;if(Z.loopWaitCall){K=Z.loopWaitCall;delete Z.loopWaitCall}var ax=ah;if(Z.loopWaitParams){ax=Z.loopWaitParams;delete Z.loopWaitParams}function aQ(){if(K&&typeof K=="function"){(K)(ax)}}if(Z.rewind){if(bQ){var bg=bQ;if(bg.indexOf("InOut")==-1){if(bg.indexOf("Out")!=-1){bg=bg.replace("Out","In")}else{if(bg.indexOf("In")!=-1){bg=bg.replace("In","Out")}}}}var aP=0;delete Z.rewind;if(Z.rewindWait){aP=Z.rewindWait;delete Z.rewindWait}var O;if(Z.rewindCall){O=Z.rewindCall;var az=Z.rewindParams;if(zot(az)){az=ah}delete Z.rewindCall;delete Z.rewindParams}function bV(){if(O&&typeof O=="function"){(O)(az)}}var J;if(Z.rewindWaitCall){J=Z.rewindWaitCall;var aw=Z.rewindWaitParams;if(zot(aw)){aw=ah}delete Z.rewindWaitCall;delete Z.rewindWaitParams}function ao(){if(J&&typeof J=="function"){(J)(aw)}}if(a7>0){F=ah.zimTweens[L]=ah.zimTween=createjs.Tween.get(ah,{override:Z.override}).wait(a7,true).call(function(){if(V&&typeof V=="function"){(V)(zot(aS)?ah:aS)}bB()})}else{bB()}function bB(){var i=aI();if(ah.set&&!bE){ah.set(bU)}F=ah.zimTweens[L]=ah.zimTween=createjs.Tween.get(ah,Z).to(T,bh,createjs.Ease[bQ]).call(ao).wait(aP,true).call(bV).to(i,bh,createjs.Ease[bg]).call(x).wait(aO,true).call(a3);am()}}else{if(a7>0){F=ah.zimTweens[L]=ah.zimTween=createjs.Tween.get(ah,{override:Z.override}).wait(a7,true).call(function(){if(V&&typeof V=="function"){(V)(zot(aS)?ah:aS)}bA()})}else{bA()}function bA(){if(ah.set&&!bE){ah.set(bU)}F=ah.zimTweens[L]=ah.zimTween=createjs.Tween.get(ah,Z).to(T,bh,createjs.Ease[bQ]).call(x).wait(aO,true).call(a3);am()}}F.startPaused=X;F.rewinding=false;var aF;if(!b0&&bD){if(bJ){ah.pathRatio=(ah.percentComplete&&Math.round(ah.percentComplete)!=100)?ah.percentComplete/100:0;ah.percentComplete=Math.round(bJ)!=100?bJ:0}if(bR&&!zot(aZ)&&aZ.dispatchEvent){aF=e.Ticker.add(function(){if(I||a8||aK||a1){aE()}aZ.dispatchEvent("animation")},bq)}else{if(bR&&ah.dispatchEvent){aF=e.Ticker.add(function(){if(I||a8||aK||a1){aE()}ah.dispatchEvent("animation")},bq)}else{aF=e.Ticker.add(function(){if(I||a8||aK||a1){aE()}},bq)}}}function br(j){if(!Array.isArray(j)){return}var b2=0;for(var t=0,o=j.length;t<o;t++){b2+=j[t]}return b2}var bb=[1,1,1];function aE(){if(!ah.parent||F.passive||F.startPaused){return}if(I){if(bz){ac=I.segmentPoints;l=I.segmentRatios}var i=I.getCurvePoint(ah.pathRatio,l,ac);if(i){bG=i.z;var j=ah.parent.globalToLocal(i.x,i.y);ah.x=j.x;ah.y=j.y}}if(aK&&B){if(ar>ah.x&&e.sign(ah.scaleX)==e.sign(D)){ah.scaleX*=-1}if(ar<ah.x&&e.sign(ah.scaleX)!=e.sign(D)){ah.scaleX*=-1}}if(a1&&B){if(aq>ah.y&&e.sign(ah.scaleY)==e.sign(C)){ah.scaleY*=-1}if(aq<ah.y&&e.sign(ah.scaleY)!=e.sign(C)){ah.scaleY*=-1}}var b2;if(a8){if(I==a8){b2=e.angle(ar,aq,ah.x,ah.y)+bx}else{var o;if(a8.parent){o=a8.parent.localToLocal(a8.x,a8.y,ah.parent)}else{o=ah.parent.globalToLocal(a8.x,a8.y)}b2=e.angle(ah.x,ah.y,o.x,o.y)+bx}if(b2!=0){if(aK&&ar-ah.x>0){b2+=180}ah.rotation=b2==bx?ah.rotation:b2}}if(aR){var t=ah.x-ar+ah.y-aq;if(Math.abs(t)>2){bb.push(sign(t));bb.shift();F.forward=br(bb)}}ar=ah.x;aq=ah.y}if(!zot(ah.zimMaskDynamic)){ah.zimMaskApply()}function x(){if(ah.paused&&ah.type!="Sprite"){if(m&&typeof m=="function"){(m)(bk)}return}if(Z.loop){if(aj>0){if(b1<aj){aQ();b1++;return}else{if(q){if(ah.set){ah.set(aI())}}else{if(ah.set){ah.set(T)}}}}else{aQ();return}}bO(L);ah.paused=null;ah.zimX=null;ah.zimY=null;if(m&&typeof m=="function"){(m)(bk)}}function aI(){var j={};for(var o in T){if(b0){if(!zot(bU[o])&&!bE){j[o]=bU[o]}else{j[o]=ah.style[o]}}else{if(!zot(bU[o])&&!bE){j[o]=bU[o]}else{j[o]=ah[o]}}}return j}function aX(i){if(!ah.zimBusy){return}for(var j in i){delete ah.zimBusy[j]}if(e.isEmpty(ah.zimBusy)){ah.zimBusy=null}}var aW=false;am();function am(){F.zimObj=T;F.zimTicker=aF;F.zimPaused=aW;if(af){F.zimIdSet=af}if(bi){if(zot(e.idSets)){e.idSets={}}if(zot(e.idSets[bi])){e.idSets[bi]=[ah]}else{if(e.idSets[bi].indexOf(ah)<0){e.idSets[bi].push(ah)}}}if(!e.animatedObjects){e.animatedObjects=new e.Dictionary(true)}e.animatedObjects.add(ah,true)}function bO(t){if(zot(ah.zimTweens)||zot(ah.zimTweens[t])){return}aX(ah.zimTweens[t].zimObj);ah.zimTweens[t].paused=true;aa(t);var o=ah.zimTweens[t].zimIdSet;if(!zot(o)&&ah.zimIdSets){var j=ah.zimIdSets[o];if(j){j.splice(j.indexOf(t),1)}if(j&&j.length==0){delete ah.zimIdSets[o];if(e.isEmpty(ah.zimIdSets)){delete ah.zimIdSets}}}if(ah.type=="Pen"&&ah.zimOnPath){ah.stop();ah.zimOnPath=false}delete ah.zimTweens[t];if(e.isEmpty(ah.zimTweens)){ah.stopAnimate(null,null,false,true)}if((ah.zimTweens&&ah.zimTweens[t])||(ah.zimIdSets&&ah.zimIdSets[o?o:t])){}else{if(e.idSets&&e.idSets[o?o:t]){e.idSets[o?o:t];var i=e.idSets[o?o:t].indexOf(ah);if(i>=0){e.idSets[o?o:t].splice(i,1)}if(e.idSets[o?o:t].length<=0){delete e.idSets[o?o:t];if(e.isEmpty(e.idSets)){delete e.idSets}}}}}function aa(i){-function(){var o=ah.zimTweens[i].zimTicker;if(ah.zimTweens[i].extraTickers){for(var j=0;j<ah.zimTweens[i].extraTickers.length;j++){e.Ticker.remove(ah.zimTweens[i].extraTickers[j])}}setTimeout(function(){if(o){e.Ticker.remove(o)}o=null},200)}()}function P(o,j){var i=ah.zimTweens[o];i.paused=j;if(j==i.zimPaused){return}i.zimPaused=j;if(j){if(i.zimTicker){i.zimAnimateTimeout=setTimeout(function(){e.Ticker.remove(i.zimTicker)},200)}}else{i.startPaused=false;clearTimeout(i.zimAnimateTimeout);if(i.zimTicker){i.zimTicker=e.Ticker.add(i.zimTicker,bq)}}}function aV(o){var t=[];for(var j=0;j<o.length;j++){if(ah.zimIdSets&&!zot(ah.zimIdSets[o[j]])){t=t.concat(ah.zimIdSets[o[j]])}else{t.push(o[j])}}return t}if(!ah.stopAnimate||!ah.stopAnimate.real){ah.stopAnimate=function(o,i,b2,j){if(zot(b2)){b2=true}ah.paused=null;if(ah.type=="Pen"&&ah.zimOnPath){ah.stop();ah.zimOnPath=false}if(zot(i)){i=true}if(b2&&aR){ah.off("mousedown",ah.zimAnimateDragDown);ah.off("pressmove",ah.zimAnimateDragPress);ah.off("pressup",ah.zimAnimateDragUp);e.Ticker.remove(ah.zimDragAnimateTicker)}if(zot(o)){if(!i){return ah}ah.zimBusy=null;createjs.Tween.removeTweens(ah);for(var b3 in ah.zimTweens){aa(b3)}ah.zimTweens=null;ah.zimIdSets=null;if(e.idSets&&e.idSets[af?af:b3]){delete e.idSets[af?af:b3];if(e.isEmpty(e.idSets)){delete e.idSets}}e.animatedObjects.remove(ah)}else{if(!Array.isArray(o)){o=[o]}var t=aV(o);for(var b3 in ah.zimTweens){if(ah.zimTweens[b3].requestID){cancelAnimationFrame(ah.zimTweens[b3].requestID)}if(i&&t.indexOf(b3)>=0){bO(b3,b2)}if(!i&&t.indexOf(b3)<0){bO(b3,b2)}}}return ah};ah.stopAnimate.real=true;ah.pauseAnimate=function(o,t,i,j){if(ah.type=="Pen"){if(o===false){if(ah.zimOnPath){ah.infinite=true}}else{ah.stop()}}if(g&&!j){ah.pause(o,t);return ah}if(zot(o)){o=true}aY=false;ah.paused=o;if(zot(i)){i=true}if(zot(t)&&!i){return ah}if(zot(t)){for(var b3 in ah.zimTweens){P(b3,o)}}else{if(!Array.isArray(t)){t=[t]}var b2=aV(t);for(var b3 in ah.zimTweens){if(i&&b2.indexOf(b3)>=0){P(b3,o)}if(!i&&b2.indexOf(b3)<0){P(b3,o)}}}return ah}}if(X){ah.pauseAnimate(true,L,null,true)}var bY;if(T.extra){bY=T.extra;delete T.extra;if(!Array.isArray(bY)){bY=[bY]}}for(var bs=0;bs<aL.length;bs++){var G=aL[bs];if(T[G]){if(zot(bY)){bY=[]}ad(G,T[G]);delete T[G]}}function ad(j,i){if(i===true){bY.push({outputProp:bt[j]})}else{if(Array.isArray(i)){bY.push({outputProp:bt[j],outputMin:i[0],outputMax:i[1],inputMin:i[2],inputMax:i[3]})}else{bY.push({outputProp:bt[j],outputMax:i})}}}if(bY){F.extraTickers=[];var bX;var av;for(var bs=0;bs<bY.length;bs++){var aJ=bY[bs];if(zot(aJ.inputObj)){aJ.inputObj=ah}if(zot(aJ.inputProp)){aJ.inputProp="y"}if(zot(aJ.inputMin)){aJ.inputMin=0}if(zot(aJ.inputMax)){aJ.inputMax=aJ.inputProp=="x"?bq.width:bq.height}if(zot(aJ.outputObj)){aJ.outputObj=ah}if(zot(aJ.outputProp)){aJ.outputProp="scale"}if(zot(aJ.outputMin)){aJ.outputMin=0}if(zot(aJ.outputMax)){aJ.outputMax=aJ.outputMin+1}if(zot(aJ.constrain)){aJ.constrain=true}for(var bp in aJ){T[bp]=e.Pick.choose(T[bp])}if(aJ.outputProp=="percentSpeed"){bm=true}av=new e.Proportion(aJ.inputMin,aJ.inputMax,aJ.outputMin,aJ.outputMax,aJ.factor,aJ.outputRound);var al=function(){var j=aJ;var i=av;return function(){var b2;var t=j.outputObj;if(j.constrain){b2=e.constrain(i.convert(j.inputObj[j.inputProp]),j.outputMin,j.outputMax)}else{b2=i.convert(j.inputObj[j.inputProp])}if(j.outputProp=="scale"){t.scaleX=e.sign(t.scaleX)*b2;t.scaleY=e.sign(t.scaleY)*b2}else{if(j.outputProp=="scaleX"){t.scaleX=e.sign(t.scaleX)*b2}else{if(j.outputProp=="scaleY"){t.scaleY=e.sign(t.scaleY)*b2}else{if(j.outputProp=="layer"){if(!t.parent){return}var o=e.constrain(Math.round(b2),0,t.parent.numChildren-1);if(o!=t.parent.getChildIndex(t)){t.parent.setChildIndex(t,o)}}else{t[j.outputProp]=b2}}}}}}();al();F.extraTickers.push(e.Ticker.add(al,bq))}}var g;var at;if(bm||ah.zimAnimateDragDown){if(bm){g=true;ah.pauseAnimate(true,L,null,true);ah.paused=false;F.currentTime=0;var bS=F;if(zot(ah.percentSpeed)){ah.percentSpeed=F.startPaused?0:100}var aT=1000/60;F.currentTime=0;var aB=(!a7&&zot(ag)&&ba);if(bZ&&ba&&zot(ag)){bZ=false}var Y=a6+(q?a6:0)+(aA?aA:0)+(bd?bd:0);var bv=1;if(ba&&ag){bv=ag}var a2;if(bZ){a2=Y*bv}function bc(){F.requestID=at=requestAnimationFrame(bc);if(!bm||(F.startPaused&&ah.percentSpeed==0)){return}F.startPaused=false;if(a7>0&&F!=bS){a7=0;F.currentTime=0;ah.pauseAnimate(true,L);ah.paused=false;aB=(zot(ag)&&ba)}if(aB){F.currentTime+=10000*Y;F.setPosition(F.currentTime,true);aB=false}var i=F.currentTime+aT*ah.percentSpeed/100;if(a2&&a7==0){i=e.constrain(i,0,a2)}F.currentTime=i;F.setPosition(F.currentTime);if(I||a8||aK||a1){aE()}bq.update()}bc()}var bj;var bC=false;ah.pause=function(i,j){if(zot(i)){i=true}if(zot(j)){j=0}if(i){if(ah.zimAnimateDragDown){aR=false;ah.cursor="default";ah.off("mousedown",ah.zimAnimateDragDown);ah.off("pressmove",ah.zimAnimateDragPress);ah.off("pressup",ah.zimAnimateDragUp);if(!bm){return}}bj=ah.percentSpeed;if(j>0){bC=true;e.animate({target:ah,props:{percentSpeed:0},override:false,ticker:false,time:j,call:function(){bC=false;ah.percentSpeed=0;ah.paused=true;bm=false;ah.dispatchEvent("pause")}})}else{F.startPaused=false;bC=false;ah.percentSpeed=0;ah.paused=true;bm=false;setTimeout(function(){ah.dispatchEvent("pause")},10)}}else{if(ah.zimAnimateDragDown){aR=true;ah.cursor="pointer";ah.zimAnimateDragDown=ah.on("mousedown",ah.zimAnimateDragDown);ah.zimAnimateDragPress=ah.on("pressmove",ah.zimAnimateDragPress);ah.zimAnimateDragUp=ah.on("pressup",ah.zimAnimateDragUp);if(!bm){return}}aY=false;F.currentTime=F.position;if(j>0){bC=true;e.animate({target:ah,props:{percentSpeed:bj},override:false,ticker:false,time:j,call:function(){bC=false;ah.percentSpeed=bj;ah.paused=false;bm=true}})}else{bC=false;ah.percentSpeed=bj;ah.paused=false;bm=true}}return ah}}return ah};e.zimLoopCheck=false;e.loop=function(p,x,q,l,g,n){var v="obj, call, reverse, step, start, end";var k;if(k=zob(e.loop,arguments,v)){return k}e.zimLoopCheck=true;if(zot(p)||zot(x)){return undefined}if(zot(q)){q=false}if(zot(l)||l<=0){l=1}var t=typeof p=="number"?"number":(p.constructor===Array?"array":(p.constructor==={}.constructor?"object":(p instanceof NodeList?"nodelist":(p instanceof HTMLCollection?"htmlcollection":"invalid"))));if(t=="container"&&!p.addChild){return undefined}if(t=="number"||t=="array"||t=="nodelist"||t=="htmlcollection"){var j=t=="number"?p:p.length;var u=m(j-1);if(u==0){return}if(q){for(var o=g;o>=n;o-=l){if(t=="number"){var f=x(o,u,g,n,p)}else{if(t=="array"){var f=x(p[o],o,u,g,n,p)}else{var f=x(p.item(o),o,u,g,n,p)}}if(typeof f!="undefined"){return f}}}else{for(var o=g;o<=n;o+=l){if(t=="number"){var f=x(o,u,g,n,p)}else{if(t=="array"){var f=x(p[o],o,u,g,n,p)}else{var f=x(p.item(o),o,u,g,n,p)}}if(typeof f!="undefined"){return f}}}}else{if(t=="object"){var j=0;var s=[];for(var o in p){j++;s.push(o)}var u=m(j-1);if(u==0){return}if(q){for(var o=g;o>=n;o-=l){var f=x(s[o],p[s[o]],o,u,g,n,p);if(typeof f!="undefined"){return f}}}else{for(var o=g;o<=n;o+=l){var f=x(s[o],p[s[o]],o,u,g,n,p);if(typeof f!="undefined"){return f}}}}else{var u=m(p.numChildren-1);if(u==0){return}if(q){for(var o=g;o>=n;o-=l){var f=x(p.getChildAt(o),o,u,g,n,p);if(typeof f!="undefined"){return f}}}else{for(var o=g;o<=n;o+=l){var f=x(p.getChildAt(o),o,u,g,n,p);if(typeof f!="undefined"){return f}}}}}function m(i){if(zot(g)){g=q?i:0}if(zot(n)){n=q?0:i}if((q&&n>g)||(!q&&g>n)){return 0}if((g<0&&n)<0||(g>i&&n>i)){return 0}g=Math.max(0,Math.min(g,i));n=Math.max(0,Math.min(n,i));return Math.floor((q?(g-n):(n-g))/l)+1}};e.copyMatrix=function(g,f){g.x=f.x;g.y=f.y;g.scaleX=f.scaleX;g.scaleY=f.scaleY;g.regX=f.regX;g.regY=f.regY;g.rotation=f.rotation;g.skewX=f.skewX;g.skewY=f.skewY;return g};e.addTo=function(l,g,j,i){var m="obj, container, index, localToLocal";var k;if(k=zob(e.addTo,arguments,m)){return k}if(zot(l)){zog("zim methods - addTo(): please provide object");return}if(zot(g)){if(zimDefaultFrame){g=zimDefaultFrame.stage}else{zog("zim methods - addTo(): please provide container");return}}if(zot(i)){i=true}if(!l.parent){i=false}if(i){var f=l.parent.localToLocal(l.x,l.y,g)}if(zot(j)||isNaN(j)){g.addChild(l)}else{g.addChildAt(l,j)}if(i){l.x=f.x;l.y=f.y}return l};e.added=function(l,k,g,i){if(zot(l)||zot(k)||typeof k!="function"){return}if(zot(g)){g=100}if(l.stage){(k)(l.stage,l);return}var j=Date.now();var f=0;var n=setInterval(function(){if(f>5){clearInterval(n);return}f++;if(l.stage){(k)(l.stage,l);clearInterval(n);clearInterval(m)}},10);var m=setInterval(function(){if(i>0&&j-Date.now()>i){clearInterval(m)}if(l.stage){(k)(l.stage,l);clearInterval(m)}},g);return m};e.tap=function(j,g,k,i,f){if(zot(j)||zot(g)||typeof g!="function"){return}if(zot(k)){k=5}if(zot(i)){i=10000}if(zot(f)){f=false}j.cursor="pointer";j.zimClickDownEvent=j.on("mousedown",function(p){if(p.currentTarget.type=="List"){if(p.target.type=="WindowBacking"){return}var l=p.currentTarget.globalToLocal(p.stageX,p.stageY);if(l.y<=0){return}}var o=p.stageX;var n=p.stageY;var m=Date.now();j.zimClickUpEvent=j.on("pressup",function(q){if(Math.abs(o+n-q.stageX-q.stageY)<k&&Date.now()-m<i){if(j.excludeTap){return}g(q)}},null,true)},null,f);return j};e.centerReg=function(l,g,i,k){var m="obj, container, index, add";var j;if(j=zob(e.centerReg,arguments,m)){return j}if(zot(l)||!l.getBounds||!l.getBounds()){zog("zim methods - centerReg(): please provide object with bounds set");return l}if(zot(k)){k=true}if(zot(g)&&l.parent&&k){g=l.parent;if(zot(i)){i=l.parent.getChildIndex(l)}l.parent.removeChild(l)}if(!zot(g)&&g==l.parent){if(zot(i)){i=l.parent.getChildIndex(l)}l.parent.removeChild(l)}var f=l.getBounds();l.regX=f.x+f.width/2;l.regY=f.y+f.height/2;return k?e.center(l,g,i):l};e.centerCheck=false;e.center=function(k,f,n,r){var s="obj, container, index, add";var j;if(j=zob(e.center,arguments,s)){return j}if(zot(k)||!k.getBounds){zog("zim.center(): please provide object with bounds");return}if(zot(f)){if(k.parent){f=k.parent}else{if(zimDefaultFrame){f=zimDefaultFrame.stage}}}if(zot(f)||!f.getBounds){zog("zim.center(): please provide container with bounds");return}var l=k.getBounds();var o=f.getBounds();if(zot(r)){r=true}if(r&&f.addChild){if(zot(n)||(typeof n==="number"&&isNaN(n))){if(!f.contains(k)){f.addChild(k)}}else{f.addChildAt(k,n)}}if(zot(o)){return k}if(zot(l)){k.x=f.getBounds().width/2;k.y=f.getBounds().height/2;return k}var i=k.localToLocal(k.regX,k.regY,f);var q=e.boundsToGlobal(k);var m=e.boundsToGlobal(f,q,true);k.x=o.x+o.width/2-m.width/2+(i.x-m.x);k.y=o.y+o.height/2-m.height/2+(i.y-m.y);if(!r&&f.getStage&&f.stage&&k.parent){var g=f.localToLocal(k.x,k.y,k.parent);k.x=g.x;k.y=g.y}return k};e.extend=function(m,v,g,q,t){var y="subclass, superclass, override, prefix, prototype";var l;if(l=zob(e.extend,arguments,y)){return l}if(zot(m)||zot(v)){if(zon){zog("zim.extend() - please supply a class and its superclass");return}}if(zot(q)){q="super"}if(zot(g)){g=[]}if(!Array.isArray(g)){g=[g]}if(zot(t)){t=true}var s={};for(var r in m.prototype){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(m.prototype,r))}function j(){this.constructor=m}j.prototype=v.prototype;m.prototype=new j();for(r in s){Object.defineProperty(m.prototype,r,Object.getOwnPropertyDescriptor(s,r))}var u=m.prototype;var x=(Object.getPrototypeOf&&Object.getPrototypeOf(u))||u.__proto__;if(x){u[(q+="_")+"constructor"]=x.constructor;var k;for(var p=0;p<g.length;p++){k=g[p];if(typeof x[k]=="function"){u[q+k]=x[k]}}if(t){for(k in x){if(u.hasOwnProperty(k)&&(typeof x[k]=="function")){u[q+k]=x[k]}}}}return m};e.setMask=function(l,g,k){if(zot(l)){zog("zim methods - setMask(): please provide obj")}if(zot(g)){j();return l}function j(){if(l.zimMask&&l.zimMask.parent){l.zimMask.parent.removeChild(l.zimMask)}l.zimMask=null;if(l.zimMaskTicker){e.Ticker.remove(l.zimMaskTicker)}l.mask=null}if(l.zimMaskOriginal&&l.zimMaskOriginal!=g){j()}if(zot(k)){k=(g.type=="Blob"||!zot(g.zimDown)||!zot(g.transformControls)||!zot(g.zimTouch)||!zot(g.zimTweens));g.zimMaskDynamic=k}l.zimMaskOriginal=g;var f;function i(){if(k&&(!l.stage||!g.stage)){return l}f=null;l.zimMask=g.zimMask=f=g.shape.clone();e.copyMatrix(f,g);f.regX=g.regX;f.regY=g.regY;g.addChildAt(f,0);f.alpha=0;f.x=g.x+g.shape.x;f.y=g.y+g.shape.y;l.mask=f}g.zimMaskApply=function(){if(l.zimMaskTicker){e.Ticker.remove(l.zimMaskTicker)}l.zimMaskTicker=e.Ticker.add(i)};if(g&&g.shape){i();if(k){g.zimMaskApply()}}else{f=g;l.mask=f}return l};e.KEYFOCUS=null;e.STYLE=null;e.STYLECHECK=false;e.ignore="ignore";e.getStyle=function(q,t,n){var j=["pos","addTo","center","centerReg","mov","drag","transform","gesture","outline","bounds","animate","wiggle"];var r=e.STYLE;if(typeof STYLE!==typeof undefined){r=STYLE}if(!zot(r)){r=e.copy(r)}else{r={}}if(zot(n)){n={}}else{for(var m=0;m<j.length;m++){delete n[j[m]]}}var v=n;var f=r.type;if(f){delete r.type}if(!zot(t)&&!zot(r.group)){var l=t.split(",");var p={};for(var m=0;m<l.length;m++){var o=l[m].trim();if(!zot(r.group[o])){p=e.merge(p,r.group[o])}}delete r.group}if(!zot(q)&&!zot(f)&&!zot(f[q])){r=e.merge(r,f[q])}if(!zot(t)&&!zot(p)){r=e.merge(r,p)}var k;for(var u in r){if(v[u]){delete r[u];continue}k=j.indexOf(u)==-1&&!r.delayPick?e.Pick.choose(r[u]):r[u];if(k=="ignore"){delete r[u];continue}else{if(k&&k.constructor==={}.constructor){k=e.copy(k,true,false)}}r[u]=k}r=e.merge(r,v);if(r.style===false){return{}}return r};var d=["visible","x","y","scale","scaleX","scaleY","rotation","alpha","skewX","skewY","regX","regY"];var c=function(k,g){if(g){if(g.add){k.addTo()}if(g.addTo){k.addTo(g.addTo===true?null:g.addTo)}if(g.center){k.center(g.center===true?null:g.center)}if(g.centerReg){k.centerReg(g.centerReg===true?null:g.centerReg)}for(var f=0;f<d.length;f++){if(g[d[f]]!=null){k[d[f]]=e.Pick.choose(g[d[f]])}}if(g.bounds){if(g.bounds.constructor==={}.constructor){k.setBounds(g.bounds.x?g.bounds.x:0,g.bounds.y?g.bounds.y:0,g.bounds.width?g.bounds.width:100,g.bounds.height?g.bounds.height:100)}}if(g.mov||g.move){if(g.move){g.mov=g.move}if(g.mov.constructor==={}.constructor){k.mov(e.Pick.choose(g.mov.x),e.Pick.choose(g.mov.y))}else{k.mov(e.Pick.choose(g.mov))}}if(g.loc){if(g.loc.constructor==={}.constructor){k.loc(e.Pick.choose(g.loc.x),e.Pick.choose(g.loc.y))}else{k.loc(e.Pick.choose(g.loc))}}if(g.pos){if(g.pos.constructor==={}.constructor){k.pos(e.Pick.choose(g.pos.x),e.Pick.choose(g.pos.y),e.Pick.choose(g.pos.right),e.Pick.choose(g.pos.bottom),e.Pick.choose(g.pos.index),g.pos.add,e.Pick.choose(g.pos.reg),e.Pick.choose(g.pos.regX),e.Pick.choose(g.pos.regY))}else{var j=e.Pick.choose(g.pos);if(j=="left"||j=="top"){k.pos()}if(j=="right"){k.pos({right:true})}if(j=="bottom"){k.pos({bottom:true})}if(j=="rightbottom"||j=="bottomright"){k.pos({right:true,bottom:true})}if(j=="center"){k.center()}}}if(g.outline){setTimeout(function(){k.outline(g.outline.constructor==={}.constructor?g.outline:null);if(k.stage){k.stage.update()}},20)}if(g.drag){k.drag(g.drag.constructor==={}.constructor?g.drag:{currentTarget:true})}if(g.gesture){k.gesture(g.gesture.constructor==={}.constructor?g.gesture:null)}if(g.transform){setTimeout(function(){k.transform(g.transform.constructor==={}.constructor?g.transform:null)},20)}if(g.animate){if(!Array.isArray(g.animate)){g.animate=[g.animate]}for(var f=0;f<g.animate.length;f++){-function(){var i=g.animate[f];if(i.constructor==={}.constructor){setTimeout(function(){k.animate(i)},20)}}()}}if(g.wiggle){if(!Array.isArray(g.wiggle)){g.wiggle=[g.wiggle]}for(var f=0;f<g.wiggle.length;f++){-function(){var i=g.wiggle[f];if(i.constructor==={}.constructor){setTimeout(function(){k.wiggle(i)},20)}}()}}if(g.expand){k.expand(g.expand===true?null:g.expand)}}};e.Stage=function(f){if(zot(f)){return}this.cjsStage_constructor(f);this.type="Stage";this.cache=function(i,g,o,n,m,j){if(zot(o)){if(zot(i)){var l=this.getBounds();if(!zot(l)){var k=this.borderWidth>0?this.borderWidth/2:0;i=l.x-k;g=l.y-k;o=l.width+k*2;n=l.height+k*2}}else{o=i;n=g;i=0;g=0}}this.cjsStage_cache(i,g,o,n,m,j);return this};this.loop=function(j,i,k,l,g){return e.loop(this,j,i,k,l,g)};this.hitTestGrid=function(g,p,n,s,o,m,j,i,r,q,l,k){return e.hitTestGrid(this,g,p,n,s,o,m,j,i,r,q,l,k)}};e.extend(e.Stage,createjs.Stage,["cache"],"cjsStage",false);e.containerCheck=false;e.Container=function(r,p,m,l,f,s,j){var t="a, b, c, d, style, group, inherit";var i;if(i=zob(e.Container,arguments,t,this)){return i}this.cjsContainer_constructor();this.type="Container";this.group=s;var k=this;var o=f===false?{}:e.getStyle(this.type,this.group,j);if(zot(r)){r=o.a!=null?o.a:null}if(zot(p)){p=o.b!=null?o.b:null}if(zot(m)){m=o.c!=null?o.c:null}if(zot(l)){l=o.d!=null?o.d:null}var g=q(r,p,m,l);function q(u,n,y,x){var v=[];if(zot(u)){v=[u,n,y,x]}else{if(!zot(y)){v[0]=u;v[2]=y;v[1]=n;v[3]=x}else{v[0]=0;v[2]=u;v[1]=0;v[3]=n}}if(zot(v[3])){v[3]=v[2]}return v}if(!zot(r)){this.setBounds(g[0],g[1],g[2],g[3])}this.cache=function(u,n,B,A,z,v){var y=this.getBounds();if(zot(B)){if(zot(u)){if(!zot(y)){var x=this.borderWidth>0?this.borderWidth/2:0;u=y.x-x;n=y.y-x;B=y.width+x*2;A=y.height+x*2}}else{B=u;A=n;u=0;n=0}}if(this.type=="Triangle"){u-=this.borderWidth?this.borderWidth:0;B+=this.borderWidth?this.borderWidth*2:0;n-=this.borderWidth?this.borderWidth:0;A+=this.borderWidth?this.borderWidth*2:0}this.cjsContainer_cache(u,n,B,A,z,v);if(y){this.setBounds(y.x,y.y,y.width,y.height)}return this};this.setBounds=function(v,u,z,x){var y=q(v,u,z,x);this.cjsContainer_setBounds(y[0],y[1],y[2],y[3]);return this};if(f!==false){c(this,o)}this.clone=function(){var n=this.getBounds();if(zot(n)){n={x:null,y:null,width:null,height:null}}return this.cloneChildren(this.cloneProps(new e.Container(n.x,n.y,n.width,n.height,f,this.group,j)))};this.hasProp=function(n){return(!zot(this[n])||this.hasOwnProperty(n))}};e.Container.prototype.dispose=function(){a(this);return true};function a(g){g.removeAllEventListeners();if(g.numChildren){for(var f=g.numChildren-1;f>=0;f--){a(g.getChildAt(f))}}if(g.parent){g.parent.removeChild(g)}}zimify(e.Container.prototype);e.extend(e.Container,createjs.Container,["cache","setBounds","clone"],"cjsContainer",false);e.Bitmap=function(k,i,p,g,f,o,l){var q="image, width, height, id, style, group, inherit";var j;if(j=zob(e.Bitmap,arguments,q,this)){return j}this.cjsBitmap_constructor(k);var m=this;this.type="Bitmap";this.group=o;var n=f===false?{}:e.getStyle(this.type,this.group,l);this.id=m.fileID=n.id!=null?n.id:g;if(zot(i)){i=n.width!=null?n.width:null}if(zot(p)){p=n.height!=null?n.height:null}if(!zot(i)&&!zot(p)){m.setBounds(0,0,i,p)}if(zot(i)){i=100}if(zot(p)){p=100}if(zimDefaultFrame){if(zimDefaultFrame.canvas.getContext("2d")){this.imageData=zimDefaultFrame.canvas.getContext("2d").createImageData(i,p)}else{this.imageData=document.createElement("canvas").getContext("2d").createImageData(i,p)}this.drawImageData=function(r,A,v,u,s,t){if(zot(r)){r=0}if(zot(A)){A=0}if(zot(v)){v=0}if(zot(u)){u=0}if(zot(s)){s=i}if(zot(t)){t=p}if(!m.proxyCanvas){var z=m.proxyCanvas=document.createElement("canvas");z.setAttribute("width",i);z.setAttribute("height",p);m.proxyContext=z.getContext("2d");k=m.image=z}if(m.proxyContext){m.proxyContext.putImageData(m.imageData,r,A,v,u,s,t)}};if(zot(k)){m.drawImageData()}if(k.match&&k.match(/data:image/i)){setTimeout(function(){if(m.stage){m.stage.update()}setTimeout(function(){if(m.stage){m.stage.update()}},50)},50)}}this.cache=function(s,r,z,y,x,t){if(zot(z)){if(zot(s)){var v=this.getBounds();if(!zot(v)){var u=this.borderWidth>0?this.borderWidth/2:0;s=v.x-u;r=v.y-u;z=v.width+u*2;y=v.height+u*2}}else{z=s;y=r;s=0;r=0}}var v=this.getBounds();this.cjsBitmap_cache(s,r,z,y,x,t);this.setBounds(v.x,v.y,v.width,v.height);return this};if(f!==false){c(this,n)}this.clone=function(){return this.cloneProps(new e.Bitmap(k,null,null,m.fileID,f,this.group,l))};this.hasProp=function(r){return(!zot(this[r])||this.hasOwnProperty(r))};this.dispose=function(){this.removeAllEventListeners();if(this.parent){this.parent.removeChild(this)}}};e.Bitmap.fromData=function(i,g){var f=new e.Bitmap(i);setTimeout(function(){g(f)},50)};e.extend(e.Bitmap,createjs.Bitmap,["cache","clone"],"cjsBitmap",false);zimify(e.Bitmap.prototype);e.Sprite=function(o,q,N,G,D,C,l,g,f,k,S,H,A,u,F,I,J,v,p){var r="image, cols, rows, count, offsetX, offsetY, spacingX, spacingY, width, height, animations, json, id, globalControl, spriteSheet, label, style, group, inherit";var m;if(m=zob(e.Sprite,arguments,r,this)){return m}this.type="Sprite";this.group=v;var Q=J===false?{}:e.getStyle(this.type,this.group,p);var B=this;var s;if(zot(H)&&!zot(o)){if(zot(q)){q=Q.cols!=null?Q.cols:1}if(zot(N)){N=Q.rows!=null?Q.rows:1}if(zot(G)){G=Q.count!=null?Q.count:(q*N)}if(zot(D)){D=Q.offsetX!=null?Q.offsetX:0}if(zot(C)){C=Q.offsetY!=null?Q.offsetY:0}if(zot(l)){l=Q.spacingX!=null?Q.spacingX:0}if(zot(g)){g=Q.spacingY!=null?Q.spacingY:0}if(zot(f)){f=Q.width!=null?Q.width:o.width}if(zot(k)){k=Q.height!=null?Q.height:o.height}var E=(f-D+l)/q-l;var P=(k-C+g)/N-g;var x=[];var R=0;outer:for(var K=0;K<N;K++){for(var M=0;M<q;M++){if(++R>G){break outer}x.push([D+M*(E+l),C+K*(P+g),E,P])}}y(o,x,S)}else{if(F){s=F;S=s.animations}else{if(H){x=H.frames;S=H.animations;if(!zot(o)){y(o,x,S)}else{var z=H.images?H.images[0]:null;if(!z.split){s=new createjs.SpriteSheet(H)}else{var n=z.split("/").pop();if(frame.asset(n).type!="EmptyAsset"){y(frame.asset(n),x,S)}else{if(frame.asset(z).type!="EmptyAsset"){var O=frame.asset(z);y(frame.asset(z),x,S)}else{s=new createjs.SpriteSheet(H)}}}}}else{return}}}function y(j,T,U){var i={images:[j.image],frames:T,animations:U?U:[]};s=new createjs.SpriteSheet(i)}this.animations=S;this.cjsSprite_constructor(s,I);if(!zot(I)){this.stop()}if(zot(A)){A=e.makeID()}this.id=A;if(zot(u)){u=true}B.globalControl=u;var L=0;var t;this.parseFrames=function(ag,ab,U,X){var ae=[];var V=Number.MAX_VALUE;var aj=0;if(zot(ag)){if(zot(ab)){ab=0}if(zot(U)){U=B.totalFrames-1}af(ab,U)}else{if(zot(B.animations)||zot(B.animations[ag])){return[]}var ah=B.animations[ag];W(ah)}function W(i){if(Array.isArray(i)){ad(i)}else{if(i.constructor=={}.constructor){T(i)}else{if(!isNaN(i)){ae.push({f:Math.floor(i),s:1})}}}}function ad(i){af(i[0],i[1],i[3]);if(i[2]&&!zot(B.animations[i[2]])){W(B.animations[i[2]])}}function T(j){if(zot(j.frames)){return}if(zot(j.speed)){j.speed=1}for(var ak=0;ak<j.frames.length;ak++){if(j.speed<V){V=j.speed}if(j.speed>aj){aj=j.speed}ae.push({f:j.frames[ak],s:j.speed})}if(j.next&&!zot(B.animations[j.next])){W(B.animations[j.next])}}function af(an,j,am){if(zot(am)){am=1}if(j>an){for(var al=an;al<=j;al++){ak(al)}}else{for(var al=j;al<=an;al++){ak(an-(al-j))}}function ak(ao){if(am<V){V=am}if(am>aj){aj=am}ae.push({f:ao,s:am})}}if(X){return ae}V=e.constrain(e.decimals(V),0.1);aj=e.constrain(e.decimals(aj),0.1);var ai=[];var aa=(V!=aj);var ac;for(var Z=0;Z<ae.length;Z++){ac=ae[Z];if(aa){for(var Y=0;Y<e.constrain(Math.round(V<1?ac.s/V:ac.s),0.1);Y++){ai.push(ac.f)}}else{ai.push(ac.f)}}return ai};this.run=function(aA,ax,j,T,Y,aa,am,W,ai,ak,ad,ac,ay,av,aD,au,ap,aj,aw,X,az,ao,af,at,al){var ag="time, label, call, params, wait, waitedCall, waitedParams, loop, loopCount, loopWait, loopCall, loopParams, loopWaitCall, loopWaitParams, rewind, rewindWait, rewindCall, rewindParams, rewindWaitCall, rewindWaitParams, startFrame, endFrame, tweek, id, globalControl";var V;if(V=zob(this.run,arguments,ag)){return V}var U;var an;var Z;if(zot(af)){af=1}if(!zot(at)){B.id=at}if(!zot(al)){B.globalControl=al}if(Array.isArray(ax)){var aE;var ae;U=[];var aq=0;var ar;for(var aB=0;aB<ax.length;aB++){aE=ax[aB];aE.lookup=B.parseFrames(aE.label,aE.startFrame,aE.endFrame);if(aB==0){ar=aE.lookup[0]}delete aE.startFrame;delete aE.endFrame;aE.obj=e.merge(aE.obj,{normalizedFrame:aE.lookup.length-1});aE.set=e.merge(aE.set,{normalizedFrames:{noPick:aE.lookup},normalizedFrame:0});if(zot(aE.wait)){aE.wait=aq*af}ae=aE.label;delete aE.label;U.push(aE);aq=0;var aC=zot(aE.time)?aA:aE.time;if(ao-az>0){aq=aC/(ao-az)/2}}if(U.length==0){return this}if(U.length==1){aA=U[0].time;ax=ae;ab()}else{B.gotoAndStop(ar)}}else{ab()}function ab(){t=B.parseFrames(ax,az,ao);L=0;B.gotoAndStop(t[L]);az=ao=null;U={normalizedFrame:t.length-1}}if(zot(aA)){aA=1000}if(B.running){B.stopAnimate(B.id)}B.running=true;if(!Array.isArray(U)){var aq=0;if(ao-az>0){aq=aA/Math.abs(ao-az)/2}if(t&&t.length>0){aq=aA/t.length/2}if(zot(ak)){ak=aq*af}if(zot(au)){au=aq*af}}var ah=function(){if(j&&typeof j=="function"){j(T||B)}B.running=false;B.stop()};e.animate({target:B,obj:U,time:aA,ease:"linear",call:ah,params:T,wait:Y,waitedCall:aa,waitedParams:am,loop:W,loopCount:ai,loopWait:ak,loopCall:ad,loopParams:ac,loopWaitCall:ay,loopWaitParams:av,rewind:aD,rewindWait:au,rewindCall:ap,rewindParams:aj,rewindWaitCall:aw,rewindWaitParams:X,override:false,id:B.id});B.runPaused=false;return B};this.runPaused=true;this.pauseRun=function(i){if(zot(i)){i=true}B.runPaused=i;if(B.globalControl){e.pauseAnimate(i,B.id)}else{B.pauseAnimate(i,B.id)}return B};this.stopRun=function(){B.runPaused=true;B.running=false;if(B.globalControl){e.stopAnimate(B.id)}else{B.stopAnimate(B.id)}return B};Object.defineProperty(this,"frame",{get:function(){return this.currentFrame},set:function(i){i=Math.round(i);if(this.paused){this.gotoAndStop(i)}else{this.gotoAndPlay(i)}}});Object.defineProperty(this,"normalizedFrame",{get:function(){return L},set:function(i){L=Math.round(i);this.gotoAndStop(t[L])}});Object.defineProperty(this,"normalizedFrames",{get:function(){return t},set:function(i){t=i}});Object.defineProperty(this,"totalFrames",{get:function(){return s.getNumFrames()},set:function(i){zog("zim.Sprite - totalFrames is read only")}});if(J!==false){c(this,Q)}this.clone=function(){return this.cloneProps(new e.Sprite(o,q,N,G,D,C,l,g,f,k,S,H,null,u,F,J,this.group,p))};this.hasProp=function(i){return(!zot(this[i])||this.hasOwnProperty(i))};this.dispose=function(){this.removeAllEventListeners();if(this.parent){this.parent.removeChild(this)}}};e.extend(e.Sprite,createjs.Sprite,"clone","cjsSprite",false);zimify(e.Sprite.prototype);e.Rectangle=function(x,t,y,f,J,m,I,C,o,A){var i="width, height, color, borderColor, borderWidth, corner, dashed, style, group, inherit";var B;if(B=zob(e.Rectangle,arguments,i,this)){return B}this.zimContainer_constructor(null,null,null,null,false);this.type="Rectangle";this.group=o;var p=C===false?{}:e.getStyle(this.type,this.group,A);if(zot(x)){x=p.width!=null?p.width:null}if(zot(t)){t=p.height!=null?p.height:!zot(x)?x:100}if(zot(x)){x=t}if(zot(m)){m=p.corner!=null?p.corner:0}if(zot(I)){I=p.dashed!=null?p.dashed:false}if(zot(f)){f=p.borderColor!=null?p.borderColor:null}if(zot(J)){J=p.borderWidth!=null?p.borderWidth:null}if(f<0||J<0){f=J=null}else{if(f!=null&&J==null){J=1}}if(zot(y)){y=p.color!=null?p.color:(J>0?"rgba(0,0,0,0)":"black")}var z=q(x,t,y,f,J);function q(){return arguments}x=e.Pick.choose(x);t=e.Pick.choose(t);y=e.Pick.choose(y);f=e.Pick.choose(f);J=e.Pick.choose(J);var n=this;var l=y;var G=f;var F=J;this.mouseChildren=false;var H=this.shape=new createjs.Shape();this.addChild(H);var E=H.graphics;var k;var v;var s;j();function j(){E.c();n.colorCommand=k=E.f(l).command;if(zot(F)||F>0){if(!zot(G)||!zot(F)){if(zot(G)){G="black"}n.borderColorCommand=v=E.s(G).command;n.borderWidthCommand=s=E.ss(F).command;if(I){n.borderDashedCommand=borderDashedObj=E.sd([10,10],5).command}}}if(Array.isArray(m)){E.rc(0,0,x,t,m[0],m[1],m[2],m[3])}else{if(m>0){E.rr(0,0,x,t,m)}else{E.r(0,0,x,t)}}n.setBounds(0,0,x,t)}Object.defineProperty(n,"color",{get:function(){return l},set:function(g){if(zot(g)){g="black"}l=g;k.style=l}});var u;var r;this.setColorRange=function(K,g){if(zot(g)){u=n.color;r=K}else{if(zot(K)){u=n.color;r=g}else{u=K;r=g}}return n};var D=0;Object.defineProperty(n,"colorRange",{get:function(){return D},set:function(g){D=g;if(!zot(u)&&!zot(r)){n.color=e.colorRange(u,r,g)}}});Object.defineProperty(n,"borderColor",{get:function(){return G},set:function(g){G=g;if(!v){j()}else{v.style=G}}});Object.defineProperty(n,"borderWidth",{get:function(){return F},set:function(g){if(!(g>0)){g=0}F=g;if(!s||F==0){j()}else{s.width=F;if(I){borderDashedObj.segments=[20,10];borderDashedObj.offset=5}}}});if(C!==false){c(this,p)}this.clone=function(g){return n.cloneProps(g?new e.Rectangle(x,t,n.color,n.borderColor,n.borderWidth,m,I,C,this.group,A):new e.Rectangle(z[0],z[1],z[2],z[3],z[4],m,I,C,this.group,A))}};e.extend(e.Rectangle,e.Container,"clone","zimContainer",false);e.Label=function(F,o,V,E,H,aa,Z,S,O,B,G,Y,ab,W,y,i,N,s,I,C,U,z,M,x,g,L,q,P,D,Q,A,t){var u="text, size, font, color, rollColor, shadowColor, shadowBlur, align, valign, lineWidth, lineHeight, fontOptions, backing, outlineColor, outlineWidth, backgroundColor, backgroundBorderColor, backgroundBorderWidth, corner, backgroundDashed, padding, paddingHorizontal, paddingVertical, shiftHorizontal, shiftVertical, rollPersist, labelWidth, labelHeight, maxSize, style, group, inherit";var k;if(k=zob(e.Label,arguments,u,this)){return k}this.zimContainer_constructor(null,null,null,null,false);this.type="Label";this.group=A;var X=Q===false?{}:e.getStyle(this.type,this.group,t);if(zot(F)){F=X.text!=null?X.text:"LABEL"}var f=false;if(F===""){F=" ";f=true}if(zot(o)){o=X.size!=null?X.size:36}if(zot(V)){V=X.font!=null?X.font:"arial"}if(zot(E)){E=X.color!=null?X.color:"black"}if(zot(H)){H=X.rollColor!=null?X.rollColor:E}if(zot(aa)||aa=="ignore"){aa=(X.shadowColor!=null&&aa!="ignore")?X.shadowColor:-1}if(zot(Z)||Z=="ignore"){Z=(X.shadowBlur!=null&&Z!="ignore")?X.shadowBlur:14}if(zot(S)){S=X.align!=null?X.align:"left"}if(zot(O)){O=X.valign!=null?X.valign:"top"}if(zot(Y)){Y=X.fontOptions!=null?X.fontOptions:""}if((!zot(W)||!zot(X.outlineColor))&&zot(y)){y=X.outlineWidth!=null?X.outlineWidth:Math.round(o*0.2)}if((!zot(y)||!zot(X.outlineWidth))&&zot(W)){W=X.outlineColor!=null?X.outlineColor:"#000000"}if(zot(y)){y=X.outlineWidth!=null?X.outlineWidth:0}if(zot(i)||i=="ignore"){i=(X.backgroundColor!=null&&i!="ignore")?X.backgroundColor:null}if(zot(U)||U=="ignore"){U=(X.padding!=null&&U!="ignore")?X.padding:10}if(zot(z)){z=X.paddingHorizontal!=null?X.paddingHorizontal:U}if(zot(M)){M=X.paddingVertical!=null?X.paddingVertical:U}if(zot(x)){x=X.shiftHorizontal!=null?X.shiftHorizontal:0}if(zot(g)){g=X.shiftVertical!=null?X.shiftVertical:0}if(zot(B)){B=X.lineWidth!=null?X.lineWidth:null}if(zot(G)){G=X.lineHeight!=null?X.lineHeight:null}if(zot(ab)||ab=="ignore"){ab=(X.backing!=null&&ab!="ignore")?X.backing:null}if(zot(L)){X.rollPersist!=null?X.rollPersist:false}if(X.labelWidth!=null){B=X.labelWidth}if(!zot(q)){B=q}if(S=="middle"){S="center"}if(zot(D)){X.maxSize!=null?X.maxSize:null}o=D?Math.min(o,D):o;var K=this;this.mouseChildren=false;this.paddingVertical=M;this.paddingHorizontal=z;var j=this.label=new createjs.Text(String(F),Y+" "+o+"px "+V,E);j.textAlign=S;j.lineWidth=B;j.lineHeight=G;j.textBaseline="alphabetic";if(y>0){var n=this.outlineLabel=j.clone();n.color=W;n.outline=y;this.addChild(n)}if(aa!=-1&&Z>0){j.shadow=new createjs.Shadow(aa,3,3,Z)}this.addChild(j);function J(){var ac=j.getBounds();var ad;if(O=="baseline"){ad=ac.y}else{if(O=="top"){j.y=o-o/6;if(n){n.y=o-o/6}ad=0}else{if(O=="center"||O=="middle"){ad=-ac.height/2;j.y=o*0.3;if(n){n.y=o*0.3}}else{ad=-ac.height}}}if(ab){if(ab.type=="Pattern"){K.setBounds(ac.x-z,ad-M,ac.width+z*2,ac.height+M*2)}else{var ae=ab.getBounds();K.setBounds(ae.x,ae.y,ae.width,ae.height)}}else{if(!zot(i)){K.setBounds(ac.x,ad,ac.width,ac.height);K.removeChild(K.background);K.background=new e.Rectangle(K.getBounds().width+z*2,K.getBounds().height+M*2,i,N,s,I,C,false);e.center(K.background,K,0);K.setBounds(K.background.x,K.background.y,K.background.width,K.background.height)}else{K.setBounds(ac.x,ad,ac.width,ac.height);r.graphics.c().f("black").r(K.getBounds().x,K.getBounds().y,K.getBounds().width,K.getBounds().height)}}e.center(j,K);e.pos(j,(S=="left"||S=="right")?(ab||K.background?z:0):null,(O=="top"||O=="baseline"||O=="bottom")?(ab||K.background?M:0):null,S=="right",O=="bottom");if(O!="baseline"){j.y+=o/32}j.x+=x;j.y+=g;if(n){e.center(n,K,K.numChildren-2);if(O!="baseline"){n.y+=o/32}n.x+=x;n.y+=g}}if(zot(ab)&&zot(i)){var r=new createjs.Shape();K.hitArea=r}J();if(!zot(ab)){if(ab.type=="Pattern"){K.backing=new e.Container(K.width,K.height,null,null,false).centerReg(null,null,false);if(aa!=-1&&Z>0){var p=new e.Rectangle(K.width-2,K.height-2,"#666",null,null,null,null,false).center(K.backing);p.shadow=new createjs.Shadow(aa,3,3,Z)}var R=K.backing.mask=new e.Rectangle(K.width,K.height,i,null,null,null,null,false).addTo(K.backing);ab.centerReg(R);ab.setMask(R.shape);K.backing.pattern=ab}else{K.backing=ab}ab.center(K,0)}Object.defineProperty(K,"text",{get:function(){var ac=(j.text==" "&&f)?"":j.text;return ac},set:function(ac){f=false;if(ac===""){ac=" ";f=true}j.text=String(ac);if(n){n.text=String(ac)}J();if(!zot(B)&&!zot(P)){m()}}});Object.defineProperty(K,"size",{get:function(){return o},set:function(ad){o=D?Math.min(ad,D):ad;var ae=this.label.font;var ac=ae.match(/^(.*\s)(\d*\.?\d*)+px(.*)$/i);if(!ac){return}this.label.font=ac[1]+ad+"px"+ac[3];J()}});Object.defineProperty(K,"color",{get:function(){return E},set:function(ac){if(H==E){H=ac}E=ac;j.color=E;if((!e.OPTIMIZE&&(zns||!OPTIMIZE))&&K.stage){K.stage.update()}}});var v;var l;this.setColorRange=function(ad,ac){if(zot(ac)){v=K.color;l=ad}else{if(zot(ad)){v=K.color;l=ac}else{v=ad;l=ac}}return K};var T=0;Object.defineProperty(K,"colorRange",{get:function(){return T},set:function(ac){T=ac;if(!zot(v)&&!zot(l)){K.color=e.colorRange(v,l,ac)}}});Object.defineProperty(K,"outlineColor",{get:function(){return W},set:function(ac){W=ac;if(n){n.color=W}if((!e.OPTIMIZE&&(zns||!OPTIMIZE))&&K.stage){K.stage.update()}}});Object.defineProperty(K,"rollColor",{get:function(){return H},set:function(ac){H=ac}});this._enabled=true;Object.defineProperty(K,"enabled",{get:function(){return K._enabled},set:function(ac){b(K,ac);j.color=E;K.mouseChildren=false;if((!e.OPTIMIZE&&(zns||!OPTIMIZE))&&K.stage){K.stage.update()}}});this.showRollColor=function(ac){if(zot(ac)){ac=true}if(ac){j.color=H}else{j.color=E}if(K.stage){K.stage.update()}return K};this.mouseoverEvent=this.on("mouseover",function(ac){if(K.showRollColor){K.showRollColor()}});this.mouseoutEvent=this.on("mouseout",function(ac){if(!K.rollPersist){K.showRollColor(false)}});this.pressupEvent=this.on("pressup",function(ac){if(K.rollPersist){K.showRollColor(false)}});Object.defineProperty(K,"labelWidth",{get:function(){return B},set:function(ac){if(ac>0){B=ac;K.label.lineWidth=ac}if(P){m()}if((!e.OPTIMIZE&&(zns||!OPTIMIZE))&&K.stage){K.stage.update()}}});Object.defineProperty(K,"labelHeight",{get:function(){return P},set:function(ac){if(ac>0){P=ac}if(B){m()}if((!e.OPTIMIZE&&(zns||!OPTIMIZE))&&K.stage){K.stage.update()}}});if(!zot(B)&&!zot(P)){m()}function m(){K.size=200;while(K.height>P||K.width>B){K.size=K.size/2}var ac=0;while(K.height<=P&&K.width<=B){ac++;K.size=Math.ceil(K.size+1);if(ac>50){break}}K.size=K.size-1}c(this,X);this.clone=function(){return K.cloneProps(new e.Label(K.text,o,V,E,H,aa,Z,S,O,B,G,Y,!zot(ab)?ab.clone():null,W,y,i,N,s,I,C,U,z,M,x,g,L,q,P,D,Q,this.group,t))}};e.extend(e.Label,e.Container,"clone","zimContainer");e.Button=function(aN,C,y,H,ao,E,l,ag,aG,m,k,am,ay,L,n,aC,v,s,at,B,j,x,au,J,aH,p,R,aL,V,S,N,av,aE,q,P,W,ae,aQ,aR,aO,aS,Q,az,X,aq,af,ah,I){var aM="width, height, label, backgroundColor, rollBackgroundColor, color, rollColor, borderColor, borderRollColor, borderWidth, corner, shadowColor, shadowBlur, hitPadding, gradient, gloss, dashed, backing, rollBacking, rollPersist, icon, rollIcon, toggle, toggleBacking, rollToggleBacking, toggleIcon, rollToggleIcon, toggleEvent, wait, waitTime, waitBackgroundColor, rollWaitBackgroundColor, waitColor, rollWaitColor, waitModal, waitEnabled, waitBacking, rollWaitBacking, waitIcon, rollWaitIcon, align, valign, indent, indentHorizontal, indentVertical, style, group, inherit";var K;if(K=zob(e.Button,arguments,aM,this)){return K}this.group=ah;var ak=af===false?{}:e.getStyle("Button",ah,I);if(zot(aN)){aN=ak.width!=null?ak.width:200}if(zot(C)){C=ak.height!=null?ak.height:60}this.zimContainer_constructor(aN,C,null,null,false);this.type="Button";if(zot(H)){H=ak.backgroundColor!=null?ak.backgroundColor:"#C60"}if(zot(ao)){ao=ak.rollBackgroundColor!=null?ak.rollBackgroundColor:"#F93"}if(zot(E)){E=ak.color!=null?ak.color:"white"}if(zot(l)){l=ak.rollColor!=null?ak.rollColor:"white"}if(zot(N)){N=ak.waitBackgroundColor!=null?ak.waitBackgroundColor:H}if(zot(av)){av=ak.rollWaitBackgroundColor!=null?ak.rollWaitBackgroundColor:ao}var A=ag;var aJ=m;if(zot(ag)){ag=ak.borderColor!=null?ak.borderColor:null}if(zot(m)){m=ak.borderWidth!=null?ak.borderWidth:null}if(ag<0||m<0){ag=m=null}else{if(ag!=null&&m==null){m=1}}if(zot(aG)){aG=ak.borderRollColor!=null?ak.borderRollColor:ag}if(zot(k)){k=ak.corner!=null?ak.corner:20}if(zot(am)){am=ak.shadowColor!=null?ak.shadowColor:"rgba(0,0,0,.3)"}if(zot(ay)){ay=ak.shadowBlur!=null?ak.shadowBlur:14}if(zot(L)){L=ak.hitPadding!=null?ak.hitPadding:0}if(zot(aS)){aS=ak.align!=null?ak.align:"center"}if(zot(Q)){Q=ak.valign!=null?ak.valign:"center"}if(zot(az)){az=ak.indent!=null?ak.indent:10}if(zot(X)){X=ak.indentHorizontal!=null?ak.indentHorizontal:az}if(zot(aq)){aq=ak.indentVertical!=null?ak.indentVertical:az}if(zot(n)){n=ak.gradient!=null?ak.gradient:0}if(zot(aC)){aC=ak.gloss!=null?ak.gloss:0}if(zot(y)){if(zot(j)){y=ak.label!=null?ak.label:"PRESS"}else{y=""}}var D=(!zot(au)||!zot(J)||!zot(aH)||!zot(p)||!zot(R))&&zot(V)&&zot(ae)&&zot(aQ);if(D&&zot(aL)){aL=e.mobile()?"mousedown":"click"}if(typeof y==="string"||typeof y==="number"){y=new e.Label({text:y,size:ak.size!=null?ak.size:36,font:ak.font!=null?ak.font:"arial",color:ak.color!=null?ak.color:E,rollColor:ak.rollColor!=null?ak.rollColor:l,align:aS,valign:Q,rollPersist:ak.rollPersist!=null?ak.rollPersist:false,backing:"ignore",shadowColor:"ignore",shadowBlur:"ignore",padding:"ignore",backgroundColor:"ignore",style:false,group:this.group})}if(zot(B)){B=ak.rollPersist!=null?ak.rollPersist:false}this.rollPersist=B;if(zot(v)){v=ak.dashed!=null?ak.dashed:false}if(!zot(au)&&au.type=="Label"){if(zon){zog("ZIM Button() - do not pass Label to toggle parameter - just pass a String")}}var U=this;this.mouseChildren=false;this.cursor="pointer";U.focus=false;U.rolled=false;if(zot(s)){s=ak.backing!=null?ak.backing.clone():null}if(zot(s)){U.backing=new e.Rectangle(aN,C,H,null,null,k,v,false).centerReg(null,null,false)}else{U.backing=s}U.rollBacking=zot(at)?(ak.rollBacking!=null?ak.rollBacking.clone():null):at;U.waitBacking=zot(ae)?(ak.waitBacking!=null?ak.waitBacking.clone():null):ae;U.rollWaitBacking=zot(aQ)?(ak.rollWaitBacking!=null?ak.rollWaitBacking.clone():null):aQ;U.toggleBacking=zot(J)?(ak.toggleBacking!=null?ak.toggleBacking.clone():null):J;U.rollToggleBacking=zot(aH)?(ak.rollToggleBacking!=null?ak.rollToggleBacking.clone():null):aH;var al=["backing","rollBacking","toggleBacking","rollToggleBacking","waitBacking","rollWaitBacking"];var T;var ad;for(var Z=0;Z<al.length;Z++){T=al[Z];ad=U[T];if(ad){if(ad.type=="Pattern"){ad=f(T,ad)}else{if(am!=-1&&ay>0){ad.shadow=new createjs.Shadow(am,3,3,ay)}}ad.x=aN/2;ad.y=C/2}}U.addChild(U.backing);if(m){U.border=new e.Rectangle(aN,C,"rgba(0,0,0,0)",ag,m,k,null,false);U.addChild(U.border)}function f(t,aT){U[t]=new e.Container(aN,C,null,null,false).centerReg(null,null,false);if(am!=-1&&ay>0){var aU=new e.Rectangle(aN-2,C-2,"#666",null,null,k,null,false).center(U[t]);aU.shadow=new createjs.Shadow(am,3,3,ay)}var i=U[t].mask=new e.Rectangle(aN,C,t.indexOf("roll")>=0?ao:H,null,null,k,null,false).addTo(U[t]);aT.centerReg(i);aT.setMask(i.shape);U[t].pattern=aT;return U[t]}U.icon=zot(j)?(ak.icon!=null?ak.icon.clone():null):j;U.rollIcon=zot(x)?(ak.rollIcon!=null?ak.rollIcon.clone():null):x;U.waitIcon=zot(aR)?(ak.waitIcon!=null?ak.waitIcon.clone():null):aR;U.rollWaitIcon=zot(aO)?(ak.rollWaitIcon!=null?ak.rollWaitIcon.clone():null):aO;U.toggleIcon=zot(p)?(ak.toggleIcon!=null?ak.toggleIcon.clone():null):p;U.rollToggleIcon=zot(R)?(ak.rollToggleIcon!=null?ak.rollToggleIcon.clone():null):R;var ar=["icon","rollIcon","toggleIcon","rollToggleIcon","waitIcon","rollWaitIcon"];for(var Z=0;Z<ar.length;Z++){var an=ar[Z];var Y=U[an];if(Y){Y.x=aN/2;Y.y=C/2}}if(U.icon){U.addChild(U.icon)}if(!Array.isArray(k)){k=[k,k,k,k]}if(n>0){var aF=new createjs.Shape();aF.graphics.lf(["rgba(255,255,255,"+n+")","rgba(0,0,0,"+n+")"],[0,1],0,0,0,C-m);aF.graphics.rc(m/2,m/2,aN-m,C-m,k[0],k[1],k[2],k[3]);this.addChild(aF)}if(aC>0){var aI=new createjs.Shape();aI.graphics.f("rgba(255,255,255,"+aC+")");aI.graphics.rc(m/2,m/2,aN-m,(C-m)/2,k[0],k[1],0,0);aI.graphics.f("rgba(0,0,0,"+aC+")");aI.graphics.rc(m/2,C/2,aN-m,(C-m)/2,0,0,k[2],k[3]);this.addChild(aI)}var z;var u;if(L>0){aa()}function aa(){u=new createjs.Shape();u.graphics.f("#000").r(-L,-L,aN+L*2,C+L*2);U.hitArea=z=u}this.addChild(y);y.center(this);y.y+=1;this.label=y;e.pos(y,(aS=="left"||aS=="right")?X:null,(Q=="top"||Q=="bottom")?aq:null,aS=="right",Q=="bottom");this.toggled=false;if(D){var ai=y.text;this.on(aL,function(){U.toggled=!U.toggled;aA()})}function aA(){if(U.toggled){if(!zot(au)){U.text=au}if(U.rolled){if(U.rollToggleBacking){ab("rollToggleBacking",U.rollToggleBacking)}else{if(U.toggleBacking){ab("toggleBacking",U.toggleBacking)}}if(U.rollToggleIcon){ab("rollToggleIcon",U.rollToggleIcon)}else{if(U.toggleIcon){ab("toggleIcon",U.toggleIcon)}}}else{if(U.toggleBacking){ab("toggleBacking",U.toggleBacking)}if(U.toggleIcon){ab("toggleIcon",U.toggleIcon)}}}else{U.text=ai;aj()}if(U.stage){U.stage.update()}}function aj(){if(U.rolled){if(zot(s)&&!U.rollBacking){U.backing.color=ao}if(U.rollBacking){ab("rollBacking",U.rollBacking)}else{if(U.backing){ab("backing",U.backing)}}if(U.rollIcon){ab("rollIcon",U.rollIcon)}else{if(U.icon){ab("icon",U.icon)}else{ab("icon",null)}}}else{if(zot(s)){U.backing.color=H}if(U.backing){ab("backing",U.backing)}if(U.icon){ab("icon",U.icon)}else{ab("icon",null)}}}this.toggle=function(i){if(!D){if(zon){zog("zim.Button() - can't toggle with wait parameters provided")}return U}if(zot(i)){U.toggled=!U.toggled}else{U.toggled=i}aA();return U};var ap=false;U.waiting=false;var M=false;var g;var aK;var aD=U.label.color;var aB=U.label.rollColor;var ac;var O;var aP=this.on("mousedown",function(){ap=true;F()});function F(){if((!zot(V)||!zot(ae)||!zot(aQ))&&!U.waiting){M=true;if(zot(W)){W=true}if(P){O=U.stage.on("stagemousedown",function(i){if(!U.hitTestPoint(i.stageX,i.stageY)){U.clearWait()}},null,true)}setTimeout(function(){U.waiting=true},50);aK=y.text;if(!zot(aE)){U.label.color=aE}if(!zot(q)){U.label.rollColor=q}ac=U.enabled;if(!W&&U.enabled){U.enabled=false}if(!zot(V)){U.text=V}if(U.rolled){if(zot(s)&&!U.rollWaitBacking){U.backing.color=av}if(U.rollWaitBacking){ab("rollWaitBacking",U.rollWaitBacking)}else{if(U.waitBacking){ab("waitBacking",U.waitBacking)}}if(U.rollWaitIcon){ab("rollWaitIcon",U.rollWaitIcon)}else{if(U.waitIcon){ab("waitIcon",U.waitIcon)}}}else{if(zot(s)&&!U.waitBacking){U.backing.color=N}if(U.waitBacking){ab("waitBacking",U.waitBacking)}if(U.waitIcon){ab("waitIcon",U.waitIcon)}}if(zot(S)){S=30000}if(g){g.clear()}g=timeout(S,function(){if(!U.enabled){U.enabled=ac}U.clearWait();U.dispatchEvent("waited")});if(U.stage){U.stage.update()}}}this.wait=function(){F()};this.clearWait=function(){if(!g){return U}if(O){U.stage.off("stagemousedown",O)}g.clear();U.text=aK;aj();U.label.color=aD;U.label.rollColor=aB;setTimeout(function(){U.waiting=false},55);M=false;if(U.stage){U.stage.update()}return U};this.removeWait=function(){U.clearWait();V=null;U.waitBacking=null;U.rollWaitBacking=null;U.off("mousedown",aP);return U};this.on("pressup",function(){ap=false;if(U.rollPersist&&!aw){ax()}});function ab(aZ,aY){if(aZ.indexOf("con")>=0){for(var aX=0;aX<ar.length;aX++){var aV=ar[aX];var aU=U[aV];U.removeChild(aU)}if(U[aZ]){U.addChildAt(U[aZ],1)}}else{if(!U[aZ]){return}for(var aX=0;aX<al.length;aX++){var aW=al[aX];var aT=U[aW];U.removeChild(aT)}if(U[aZ]){U.addChildAt(U[aZ],0)}}}var aw=false;this.on("mouseover",r);function r(i){U.rolled=true;aw=true;if(M){if(zot(s)&&zot(U.rollWaitBacking)){U.backing.color=zot(av)?ao:av}ab("rollWaitBacking",U.rollWaitBacking);if(U.rollWaitIcon){ab("rollWaitIcon",U.rollWaitIcon)}}else{if(D&&U.toggled){if(zot(s)&&zot(U.rollToggleBacking)){U.backing.color=ao}ab("rollToggleBacking",U.rollToggleBacking);if(U.rollToggleIcon){ab("rollToggleIcon",U.rollToggleIcon)}}else{if(zot(s)){U.backing.color=ao}else{if(!zot(s.mask)){U.backing.mask.color=ao}}ab("rollBacking",U.rollBacking);if(U.rollIcon){ab("rollIcon",U.rollIcon)}}}if(U.border){U.border.borderColor=aG}if(U.label.showRollColor){U.label.showRollColor()}if(U.stage){U.stage.update()}}this.on("mouseout",G);function G(i){aw=false;U.off("mouseout",G);if(U.rollPersist){if(!ap){ax()}}else{ax()}}function ax(){U.rolled=false;if(M||U.waiting){if(zot(s)&&zot(U.waitBacking)){U.backing.color=zot(N)?H:N}if(U.waitBacking){ab("waitBacking",U.waitBacking)}else{ab("backing",U.backing)}if(U.waitIcon){ab("waitIcon",U.waitIcon)}else{if(U.icon){ab("icon",U.icon)}else{ab("icon",null)}}}else{if(U.toggled&&D){if(zot(s)&&zot(U.toggleBacking)){U.backing.color=H}if(U.toggleBacking){ab("toggleBacking",U.toggleBacking)}else{ab("backing",U.backing)}if(U.toggleIcon){ab("toggleIcon",U.toggleIcon)}else{if(U.icon){ab("icon",U.icon)}else{ab("icon",null)}}}else{if(zot(s)){U.backing.color=H}else{if(!zot(s.mask)){U.backing.mask.color=H}}ab("backing",U.backing);if(U.icon){ab("icon",U.icon)}else{ab("icon",null)}}}if(U.border){U.border.borderColor=ag}if(U.label.showRollColor){U.label.showRollColor(false)}if(U.stage){U.stage.update()}}Object.defineProperty(U,"text",{get:function(){var i=(y.text==" ")?"":y.text;return i},set:function(i){y.text=i;y.center(this);y.y+=1}});Object.defineProperty(U,"color",{get:function(){return E},set:function(i){E=i;if(U.label&&!zot(U.label.color)){U.label.color=E}if((!e.OPTIMIZE&&(zns||!OPTIMIZE))&&U.stage){U.stage.update()}}});Object.defineProperty(U,"rollColor",{get:function(){return l},set:function(i){l=i;if(U.label){U.label.rollColor=l}}});Object.defineProperty(U,"backgroundColor",{get:function(){return H},set:function(i){H=i;if(U.backing.color){U.backing.color=H}else{if(U.backing.mask){U.backing.mask.color=H}}if((!e.OPTIMIZE&&(zns||!OPTIMIZE))&&U.stage){U.stage.update()}}});Object.defineProperty(U,"rollBackgroundColor",{get:function(){return ao},set:function(i){ao=i;if(U.rollBacking&&U.rollBacking.color){U.rollBacking.color=ao}else{if(U.rollBacking&&U.rollBacking.mask){U.rollBacking.mask.color=ao}}}});Object.defineProperty(U,"borderColor",{get:function(){return ag},set:function(i){ag=i;if(!U.rolled){if(U.backing&&U.backing.borderColor){U.backing.borderColor=i}if(U.border){U.border.borderColor=i}}}});Object.defineProperty(U,"borderRollColor",{get:function(){return aG},set:function(i){aG=i;if(U.rolled){if(U.backing&&U.backing.borderColor){U.backing.borderColor=i}if(U.border){U.border.borderColor=i}}}});Object.defineProperty(U,"hitPadding",{get:function(){return L},set:function(i){L=i;if(L==0){if(z){this.hitArea=null}}else{aa()}}});this._enabled=true;this.startMouseChildren=this.mouseChildren;Object.defineProperty(U,"enabled",{get:function(){return U._enabled},set:function(i){if(U._enabled){U.startMouseChildren=U.mouseChildren}if(i){b(U,i);U.mouseChildren=U.startMouseChildren}else{ax();b(U,i)}y.color=y.color;if((!e.OPTIMIZE&&(zns||!OPTIMIZE))&&U.stage){U.stage.update()}}});this.setBacking=function(t,i){o(t,i)};this.setIcon=function(t,i){o(t,i)};function o(t,i){if(zot(t)){return U}if(U.contains(U[t])){U.removeChild(U[t]);if(i){U.addChildAt(i,t.indexOf("con")>=0?U.numChildren-1:0)}if(U.stage){U.stage.update()}}if(i){if(zot(s)&&t=="backing"){s=i}if(i.type=="Pattern"){i=f(t,i)}U[t]=i;U[t].x=aN/2;U[t].y=C/2}else{U[t]=null}return U}if(af!==false){if(af!==false){c(this,ak)}}this.clone=function(){var i=new e.Button(aN,C,y.clone(),H,ao,E,l,A,aG,aJ,k,am,ay,L,n,aC,v,!zot(s)?U.backing.clone():null,!zot(at)?U.rollBacking.clone():null,B,!zot(j)?j.clone():null,!zot(x)?x.clone():null,au,!zot(J)?J.clone():null,!zot(aH)?aH.clone():null,!zot(p)?p.clone():null,!zot(R)?R.clone():null,aL,V,S,N,av,aE,q,P,W,!zot(ae)?ae.clone():null,!zot(aQ)?aQ.clone():null,!zot(aR)?aR.clone():null,!zot(aO)?aO.clone():null,aS,Q,az,X,aq,af,this.group);return U.cloneProps(i)}};e.extend(e.Button,e.Container,"clone","zimContainer",false);e.Panel=function(f,i,A,v,n,r,g,B,m,z,x,J,Q,O,K,y,u,H,s,p){var q="width, height, titleBar, titleBarColor, titleBarBackgroundColor, titleBarHeight, backgroundColor, borderColor, borderWidth, corner, arrow, align, shadowColor, shadowBlur, draggable, boundary, extraButton, style, group, inherit";var j;if(j=zob(e.Panel,arguments,q,this)){return j}this.group=s;var N=H===false?{}:e.getStyle("Panel",this.group,p);if(zot(f)){f=N.width!=null?N.width:250}if(zot(i)){i=N.height!=null?N.height:300}this.zimContainer_constructor(f,i,null,null,false);this.type="Panel";if(zot(A)){A=N.titleBar!=null?N.titleBar:"PANEL"}if(zot(v)){v=N.titleBarColor!=null?N.titleBarColor:"#fff"}if(zot(n)){n=N.titleBarBackgroundColor!=null?N.titleBarBackgroundColor:"#555"}if(zot(r)){r=N.titleBarHeight!=null?N.titleBarHeight:30}if(zot(g)){g=N.backgroundColor!=null?N.backgroundColor:"#eee"}if(zot(B)){B=N.borderColor!=null?N.borderColor:"#888"}if(zot(m)){m=N.borderWidth!=null?N.borderWidth:null}if(B<0||m<0){B=m=null}else{if(B!=null&&m==null){m=1}}if(zot(z)){z=N.corner!=null?N.corner:5}if(zot(J)){J=N.align!=null?N.align:"left"}if(zot(Q)){Q=N.shadowColor!=null?N.shadowColor:"rgba(0,0,0,.3)"}if(zot(O)){O=N.shadowBlur!=null?N.shadowBlur:14}if(zot(K)){K=N.draggable!=null?N.draggable:false}if(zot(y)){y=N.boundary!=null?N.boundary:null}if(zot(x)){x=N.arrow!=null?N.arrow:e.vee(A)}if(!Array.isArray(z)){z=[z,z,z,z]}var C=this;var D=this.background=new e.Rectangle(f,i,g,B,m,z).addTo(this);if(Q!=-1&&O>0){this.background.shadow=new createjs.Shadow(Q,3,3,O)}var E=A;var F=e.Pick.choose(E);var P=e.Pick.choose(v);var o=e.Pick.choose(n);var k=e.Pick.choose(g);var R=e.Pick.choose(B);if(typeof F=="string"){F=new e.Label({text:F,color:P,size:N.size!=null?N.size:20,backing:"ignore",shadowColor:"ignore",shadowBlur:"ignore",padding:"ignore",backgroundColor:"ignore",group:this.group})}var G=C.titleBarLabel=F;if(zot(o)){o="rgba(0,0,0,.2)"}C.titleBar=A=new e.Container(f,r,null,null,false).loc(0,0,C);var I=C.titleBar.backing=new e.Rectangle(f+m,r,o,null,null,[z[0]*0.95,z[1]*0.95,0,0],true,false).center(A);M();C.label=F;C.text=F.text;this.nextPanel=function(U,W){var V=zot(U)||zot(E.array)?e.Pick.choose(E):E.array[U];var S=zot(U)||zot(v.array)?e.Pick.choose(v):v.array[U];var Y=zot(U)||zot(n.array)?e.Pick.choose(n):n.array[U];var X=zot(U)||zot(g.array)?e.Pick.choose(g):g.array[U];var T=zot(U)||zot(B.array)?e.Pick.choose(B):B.array[U];if(typeof V=="string"){V=new e.Label({text:V,color:S,size:N.size!=null?N.size:20,backing:"ignore",shadowColor:"ignore",shadowBlur:"ignore",padding:"ignore",backgroundColor:"ignore",group:this.group})}C.label=V;C.text=V.text;G.removeFrom();G=C.titleBarLabel=V;M();I.color=Y;C.background.color=X;C.background.borderColor=T;if(W){C.dispatchEvent("change")}if(!OPTIMIZE&&C.stage){C.stage.update()}};function M(){if(J=="right"){G.center(A).pos(Math.max(z[0]/2,10),null,true)}else{if(J=="center"||J=="middle"){G.center(A)}else{G.center(A).loc(Math.max(z[0]/2,10))}}}if(K){A.cursor="pointer";A.on("mousedown",function(){C.drag({rect:y,currentTarget:true})});A.on("pressup",function(){C.noDrag()})}if(x>0){var l=C.arrow=new e.Shape(-20,-20,40,40,null,false);l.graphics.f(v).p("AiJieIETCeIkTCfg");l.centerReg(A).scaleTo(A,null,70).alp(0.8).hov(1).expand();if(J=="right"){l.pos(Math.max(z[1]/2,10))}else{l.pos(Math.max(z[1]/2,10),null,true)}l.cursor="pointer";l.on((!zns?ACTIONEVENT=="mousedown":e.ACTIONEVENT=="mousedown")?"mousedown":"click",function(){C.nextPanel();C.dispatchEvent("change")})}if(!zot(u)){var u=C.extraButton=new e.Button({label:"R",width:50,height:50,group:"PanelExtra"}).scaleTo(A,null,70).centerReg(A).expand();if(J=="left"){u.pos(x>0?l.x-l.width-15:Math.max(z[1]/2,10))}else{u.pos((x>0&&J!="center")?l.x+l.width:Math.max(z[1]/2,10))}}var L=C.overlay=new e.Rectangle(f,i).alp(0.7);this._enabled=true;Object.defineProperty(C,"enabled",{get:function(){return C._enabled},set:function(t){b(C,t);if(!t){C.overlay.addTo(C)}else{C.overlay.removeFrom()}if(!OPTIMIZE&&C.stage){C.stage.update()}}});if(H!==false){c(this,N)}this.clone=function(){return C.cloneProps(new e.Toggle(f,i,A?A.clone():"",v,n,r,g,B,m,z,x,J,Q,O,K,y,u,H,this.group,p))}};e.extend(e.Panel,e.Container,"clone","zimContainer",false);e.ProgressBar=function(P,N,g,B,l,L,I,y,S,o,z,Q,O,R,D,G,E,k,J,u,r){var s="barType, foregroundColor, backgroundColor, borderColor, borderWidth, padding, label, color, labelPosition, percentage, corner, shadowColor, shadowBlur, backing, delay, fastClose, container, autoHide, style, group, inherit";var j;if(j=zob(e.ProgressBar,arguments,s,this)){return j}this.zimContainer_constructor(null,null,null,null,false);this.type="ProgressBar";this.group=u;var M=J===false?{}:e.getStyle(this.type,this.group,r);if(zot(N)){N=M.foregroundColor!=null?M.foregroundColor:"#acd241"}if(zot(g)){g=M.backgroundColor!=null?M.backgroundColor:"#444"}if(zot(B)){B=M.borderColor!=null?M.borderColor:g}if(zot(l)){l=M.borderWidth!=null?M.borderWidth:null}if(zot(S)){S=M.labelPosition!=null?M.labelPosition:"bottom"}if(zot(P)){P=M.barType!=null?M.barType:"circle"}if(zot(L)){L=M.padding!=null?M.padding:(P=="circle"?2:-0.5)}if(zot(z)){z=M.corner!=null?M.corner:15}if(zot(Q)){Q=M.shadowColor!=null?M.shadowColor:"rgba(0,0,0,.3)"}if(zot(O)){O=M.shadowBlur!=null?M.shadowBlur:14}if(zot(R)){R=M.backing!=null?M.backing:null}if(zot(G)){G=M.fastClose!=null?M.fastClose:true}if(B<0||l<0){B=l=null}else{if(B!=null&&l==null){if(P=="circle"){l=10}else{l=2}}}if(zot(D)){D=M.delay!=null?M.delay:100}if(zot(k)){k=M.autoHide!=null?M.autoHide:true}if(zot(I)){I=M.label!=null?M.label:null}if(zot(y)){y=M.color!=null?M.color:N}if(typeof I==="string"||typeof I==="number"){I=new e.Label({text:I,color:y,backing:"ignore",shadowColor:"ignore",shadowBlur:"ignore",padding:"ignore",backgroundColor:"ignore",group:this.group})}var x=false;if(I&&I.text==""){x=true}if(!zot(o)&&zot(I)){I=new e.Label("")}this.label=I;var i=30;var F=this;var v=0;F.visible=false;setTimeout(function(){F.visible=true;if(F.stage){F.stage.update()}},D);if(P=="circle"){var f=20;var R=this.backing=new e.Circle(f,"rgba(0,0,0,0)",g,l,null,null,false).addTo(this);var H=this.bar=new e.Shape({style:false}).addTo(F).pos({x:R.x,y:R.y,reg:true}).rot(-90)}else{var f=200;if(Q!=-1&&O>0){var n=new e.Rectangle(f-2,i-2,g,null,null,z,null,false).addTo(this);n.shadow=new createjs.Shadow(Q,3,3,O)}var R=p(R);var C=z;if(!Array.isArray(C)){C=[z,z,z,z]}var A=(L+l/2)*1.2;var H=this.bar=new e.Rectangle(f-(L+l/2)*1.8,i-(L+l/2)*1.8,N,null,null,[C[0]-A,C[1]-A,C[2]-A,C[3]-A],null,false).center(this);var K=this.mask=new e.Rectangle(f-(L+l/2)*1.8,i-(L+l/2)*1.8,null,null,null,null,null,false).center(this).alp(0).sca(0,1);H.setMask(K)}function p(V){if(F.backing){var U=F.getChildIndex(F.backing);F.removeChild(F.backing)}else{var U=F.numChildren}if(F.border){F.removeChild(F.border)}if(!zot(V)&&V.type=="Pattern"){var X=V;var V=F.backing=new e.Rectangle(f,i,g,null,null,z,null,false).addTo(F,U);V.pattern=X;X.center(V);var W=V.getBounds();X.setMask(V.shape);if(l){var T=F.border=new e.Rectangle(f,i,"rgba(0,0,0,0)",B,l,z,null,false).addTo(F,U+1)}}else{var V=F.backing=zot(V)?new e.Rectangle(f,i,g,B,l,z,null,false).addTo(F,U):R.addTo(F,U)}return V}F.setBacking=function(T){p(T);if(F.stage){F.stage.update()}};R.on("click",function(T){T.stopImmediatePropagation()});if(!zot(I)){I.scaleX=I.scaleY=0.8;I.startText=I.text;if(!zot(o)){I.text=I.startText+"  0%"}I.center(F);if(S=="above"){I.y-=60}else{I.y+=60}I.alpha=0.8}this.hide=function(){var U=F.stage;if(F.parent){F.parent.removeChild(F)}if(F.backing.type=="Pattern"&&F.backing.pauseInterval){F.backing.pauseInterval()}if(U){U.update()}if(F.zimAccessibility){var T=F.zimAccessibility;T.resize(F);if(m){m.focus()}else{F.zimTabTag.nextSibling.focus()}setTimeout(function(){T.talk("Progress Bar has finished.")},50)}F.toggled=false;return F};var m;var q;this.show=function(){var U="zim display - ProgressBar(): Please pass in a reference to a container with bounds set as first parameter of the ProgressBar";if(zot(E)){if(zimDefaultFrame){E=zimDefaultFrame.stage}else{zog(U);return}}else{if(!E.getBounds){zog(U);return}else{if(zot(E.stage)){zog("zim display - Waiter(): The container must have a stage property");return}}}if(F.timeOut){clearTimeout(F.timeOut)}t(0);if(F.zimActiveLoader){F.zimActiveLoader.on("progress",function(V){v=V.progress*100;t(v)})}F.center(E);if(F.backing.type=="Pattern"&&F.backing.pauseInterval){F.backing.pauseInterval(false)}if(F.zimAccessibility){var T=F.zimAccessibility;setTimeout(function(){if(T.activatedObject){m=T.activatedObject.zimTabTag}},50);T.resize(F);T.talk(F.zimTabTag.getAttribute("aria-label"))}F.toggled=true;return F};F.toggle=function(T){if(T===true){F.show()}else{if(T===false){F.hide()}else{if(F.parent){F.hide()}else{F.show()}}}return F};function t(T){if(P=="circle"){H.graphics.c().mt(0,0).s(N).ss(l-L*2+0.5).a(0,0,f,0,360*T/100*Math.PI/180)}else{K.sca(T/100,1);H.setMask(K)}if(!zot(o)){I.text=I.startText+" "+Math.min(Math.round(T),100)+"%"}if(k&&G&&Math.round(T)>=100){F.timeOut=setTimeout(function(){F.hide()},200)}if(F.stage){F.stage.update()}}Object.defineProperty(F,"percent",{get:function(){return v},set:function(T){v=T;t(T)}});if(J!==false){c(this,M)}this.clone=function(){return F.cloneProps(new e.ProgressBar(P,N,g,B,l,L,I,y,S,o,z,Q,O,R,D,G,E,k,J,this.group,r))};this.dispose=function(){if(F.backing.type=="Pattern"&&F.backing.clearInterval){F.backing.clearInterval()}this.zimContainer_dispose();return true}};e.extend(e.ProgressBar,e.Container,["clone","dispose"],"zimContainer",false);e.Tile=function(o,E,Z,z,q,g,n,N,L,k,l,U,Q,S,A,r,W,J,I,T,D){var F="obj, cols, rows, spacingH, spacingV, width, height, squeezeH, squeezeV, colSize, rowSize, align, valign, count, mirrorH, mirrorV, snapToPixel, clone, group, style, inherit";var p;if(p=zob(e.Tile,arguments,F,this)){return p}this.zimContainer_constructor(null,null,null,null,false);this.type="Tile";this.group=I;var aa=T===false?{}:e.getStyle(this.type,this.group,D);if(zot(o)){o=aa.obj!=null?aa.obj:new e.Circle()}if(zot(E)){E=aa.cols!=null?aa.cols:1}if(zot(Z)){Z=aa.rows!=null?aa.rows:1}if(zot(g)){g=aa.width!=null?aa.width:null}if(zot(n)){n=aa.height!=null?aa.height:null}if(zot(k)){k=aa.colSize!=null?aa.colSize:null}if(zot(l)){l=aa.rowSize!=null?aa.rowSize:null}if(!zot(g)){k=null}if(!zot(n)){l=null}if(zot(z)){z=aa.spacingH!=null?aa.spacingH:null}if(zot(q)){q=aa.spacingV!=null?aa.spacingV:null}if(zot(z)||!zot(k)){z=0}if(zot(q)||!zot(l)){q=0}if(zot(N)){N=aa.squeezeH!=null?aa.squeezeH:false}if(zot(L)){L=aa.squeezeV!=null?aa.squeezeV:false}if(zot(U)){U=aa.align!=null?aa.align:"left"}if(zot(Q)){Q=aa.valign!=null?aa.valign:"top"}if(zot(S)){S=aa.count!=null?aa.count:null}if(S==0){S=null;if(zon){zog("ZIM Tile() - count parameter of 0 is ignored - see docs")}}if(zot(A)){A=aa.mirrorH!=null?aa.mirrorH:false}if(zot(r)){r=aa.mirrorV!=null?aa.mirrorV:false}if(zot(W)){W=aa.snapToPixel!=null?aa.snapToPixel:true}if(W){if(o&&o.stage){o.stage.snapToPixelEnabled=true}else{if(typeof(elem)!=="undefined"&&zimDefaultFrame){zimDefaultFrame.stage.snapToPixelEnabled=true}}}if(zot(J)){J=aa.clone!=null?aa.clone:true}var O=this;O.cols=E;O.rows=Z;O.spacingH=z;O.spacingV=q;O.squeezeH=N;O.squeezeV=L;var u=(typeof U=="function");var y=(typeof Q=="function");O.align=u?"left":U;O.valign=y?"top":Q;O.mirrorH=A;O.mirrorV=r;O.items=[];var x;var B=0;outer:for(var V=0;V<Z;V++){for(var X=0;X<E;X++){B++;if(!zot(S)&&B>S){break outer}x=e.Pick.choose(o);if(zot(x)){x=new e.Container(0,0,0,0)}if(J){if((V!=0||X!=0)){x=x.clone()}}O.items.push(x);x.tileNum=B-1}}var R;var M;var v;var C;var ab;var P;var Y;var K;var t;var f;var ad;var ac;var s;var m;function H(){O.removeAllChildren();R=[];M=[];v=[];C=[];ab=[];P=0;Y=0;K=0;t=0;f=[];ad=[];ac=[];m=[];s=[];if(!O.items||!O.items.length){O.items=[]}S=O.items.length;var ah=0;var ai;var af=0;var ae=0;for(var ag=0;ag<S;ag++){af=Math.floor(ag/O.cols);ae=ag%O.cols;if(zot(R[af])){R[af]=[]}if(zot(O.items[ag])){O.items[ag]=new Container(0,0,0,0)}R[af][ae]=O.items[ag]}O.rows=Math.max(1,R.length);O.cols=Math.max(1,!zot(R[0])?R[0].length:0);outer2:for(var af=0;af<O.rows;af++){f.push([]);ad.push([]);m.push([]);if(l&&zot(n)){h=e.Pick.choose(l)}for(var ag=0;ag<O.cols;ag++){ah++;if(!zot(S)&&ah>S){break outer2}ai=R[af][ag];ai.snapToPixel=W;O.addChild(ai);f[af].push(ai.scaleX);ad[af].push(ai.scaleY);if(af==0&&(k&&zot(g))){w=e.Pick.choose(k)}if(af==0){s.push(e.Pick.choose(U))}if(!k||!zot(g)){w=Math.abs(ai.width)}if(!l||!zot(n)){h=Math.abs(ai.height)}m[af][ag]=[w,h];if(zot(C[ag])){C[ag]=0}if(zot(ab[af])){ab[af]=0}if(w>C[ag]){C[ag]=w}if(h>ab[af]){ab[af]=h}if(zot(M[af])){M[af]=0}if(zot(v[ag])){v[ag]=0}M[af]+=w;v[ag]+=h;if(M[af]>P){P=M[af]}if(v[ag]>Y){Y=v[ag]}if(zot(ac[ag])){ac[ag]=0}ac[ag]++}}if(O.squeezeH===false){e.loop(C,function(i){K+=i})}if(O.squeezeV===false){e.loop(ab,function(i){t+=i})}}H();function G(ae,aq){if(ae<=0){ae=null}if(aq<=0){aq=null}var ai;if(!zot(ae)&&O.squeezeH=="full"){ai=ae}else{if(!zot(ae)){ai=Math.max(P+(O.cols-1)*O.spacingH,ae)}else{if(K>0){ai=K+(O.cols-1)*O.spacingH}else{ai=P+(O.cols-1)*O.spacingH}}}var af;if(!zot(aq)&&O.squeezeV=="full"){af=aq}else{if(!zot(aq)){af=Math.max(Y+(O.rows-1)*O.spacingV,aq)}else{if(t>0){af=t+(O.rows-1)*O.spacingV}else{af=Y+(O.rows-1)*O.spacingV}}}O.setBounds(0,0,ai,af);var ar;var j;var ah=[];var at=[];var an=[];var i;for(V=0;V<R.length;V++){ar=R[V];j=0;if(!zot(ae)){i=0}for(X=0;X<ar.length;X++){x=ar[X];var al;var ag;var ak;var ap;var am;if(V==0){ah[X]=0;if(!zot(aq)){if(O.squeezeV=="full"){at[X]=ac[X]>1?((aq-v[X])/(ac[X]-1)):0}else{if(O.squeezeV){at[X]=ac[X]>1?Math.max(O.spacingV,(aq-v[X])/(ac[X]-1)):0}else{at[X]=ac[X]>1?Math.max(O.spacingV,(af-v[X])/(ac[X]-1)):0}}}if(O.squeezeV){if(O.valign=="center"||O.valign=="middle"){an[X]=(af-(v[X]+(ac[X]-1)*(!zot(aq)?at[X]:O.spacingV)))/2}else{if(O.valign=="bottom"){an[X]=af-(v[X]+(ac[X]-1)*(!zot(aq)?at[X]:O.spacingV))}else{an[X]=0}}}else{an[X]=0}}al=x.getBounds();if(X==0){if(!zot(ae)){if(O.squeezeH=="full"){ap=ar.length>1?((ae-M[V])/(ar.length-1)):0}else{if(O.squeezeH){ap=ar.length>1?Math.max(O.spacingH,(ae-M[V])/(ar.length-1)):0}else{ap=ar.length>1?Math.max(O.spacingH,(ai-M[V])/(ar.length-1)):0}}}if(O.squeezeH){if(O.align=="center"||O.align=="middle"){ag=(ai-(M[V]+(ar.length-1)*(!zot(ae)?ap:O.spacingH)))/2}else{if(O.align=="right"){ag=ai-(M[V]+(ar.length-1)*(!zot(ae)?ap:O.spacingH))}else{ag=0}}}else{ag=0}finalVAlign=e.Pick.choose(Q)}U=s[X];var ao=m[V][X][0];var aj=m[V][X][1];if(O.mirrorH&&X%2==1){x.scaleX=-f[V][X];x.x=j+ao-al.x*2*x.scaleX}else{x.pos(j,null)}if(!O.squeezeH&&u){if(zot(ae)&&(U=="center"||U=="middle")){x.x+=(C[X]-x.width*x.scaleX)/2}else{if(zot(ae)&&U=="right"){x.x+=C[X]-x.width*x.scaleX}}}else{if(!O.squeezeH){if(zot(ae)&&(O.align=="center"||O.align=="middle")){x.x+=(C[X]-x.width*x.scaleX)/2}else{if(zot(ae)&&O.align=="right"){x.x+=C[X]-x.width*x.scaleX}}}else{if(zot(ae)&&(O.align=="center"||O.align=="middle")){x.x+=(ao-x.width*x.scaleX)/2}else{if(zot(ae)&&O.align=="right"){x.x+=ao-x.width*x.scaleX}}}}if(O.mirrorV&&V%2==1){x.scaleY=-ad[V][X];x.y=ah[X]+aj-al.y*2*x.scaleY}else{x.pos(null,ah[X])}if(!O.squeezeV&&y){if(zot(aq)&&(finalVAlign=="center"||finalVAlign=="middle")){x.y+=(ab[V]-x.height*x.scaleY)/2}else{if(zot(aq)&&finalVAlign=="bottom"){x.y+=ab[V]-x.height*x.scaleY}}}else{if(!O.squeezeV){if(zot(aq)&&(O.valign=="center"||O.valign=="middle")){x.y+=(ab[V]-x.height*x.scaleY)/2}else{if(zot(aq)&&O.valign=="bottom"){x.y+=ab[V]-x.height*x.scaleY}}}else{if(zot(aq)&&(O.valign=="center"||O.valign=="middle")){x.y+=(aj-x.height*x.scaleY)/2}else{if(zot(aq)&&O.valign=="bottom"){x.y+=aj-x.height*x.scaleY}}}}if(O.squeezeH===true||!zot(ae)){j+=ao+(!zot(ae)?ap:O.spacingH)}else{j+=C[X]+(!zot(ae)?ap:O.spacingH)}x.x+=ag;x.y+=an[X];if(O.squeezeV===true||!zot(aq)){ah[X]+=aj+(!zot(aq)?at[X]:O.spacingV)}else{ah[X]+=ab[V]+(!zot(aq)?at[X]:O.spacingV)}}}}G(g,n);this.remake=function(i){if(!zot(i)){O.items=i}H();G(g,n);return O};this.resize=function(i,j){if(zot(i)){i=g}if(zot(j)){j=n}g=i;n=j;G(i,j);return O};if(T!==false){c(this,aa)}this.clone=function(){return O.cloneProps(new e.Tile(o.clone?o.clone():o,O.cols,O.rows,O.spacingH,O.spacingV,g,n,O.squeezeH,O.squeezeV,k,l,U,Q,O.items.length,O.mirrorH,O.mirrorV,W,this.style,this.group))}};e.extend(e.Tile,e.Container,"clone","zimContainer",false);e.ColorPicker=function(aE,ax,aQ,ac,N,p,aj,aK,ae,al,O,P,av,B,aT,au,Z,ab,C){var aD="width, colors, cols, spacing, greyPicker, alphaPicker, startBackgroundColor, draggable, shadowColor, shadowBlur, buttonBar, circles, indicator, backgroundColor, keyArrows, container, style, group, inherit";var E;if(E=zob(e.ColorPicker,arguments,aD,this)){return E}this.zimContainer_constructor(null,null,null,null,false);this.type="ColorPicker";this.group=ab;var ad=Z===false?{}:e.getStyle(this.type,this.group,C);if(zot(aE)){aE=ad.width!=null?ad.width:500}if(zot(ax)){ax=ad.colors!=null?ad.colors:null}if(zot(ax)){aM=true}if(zot(aQ)){aQ=ad.cols!=null?ad.cols:10}if(zot(ac)){ac=ad.spacing!=null?ad.spacing:2}var l=!aM&&ax.length>0&&ax.length<=aQ;if(zot(p)){p=ad.alphaPicker!=null?ad.alphaPicker:(l?false:true)}if(zot(N)){N=ad.greyPicker!=null?ad.greyPicker:(l?false:true)}if(zot(ae)){ae=ad.shadowColor!=null?ad.shadowColor:"rgba(0,0,0,.3)"}if(zot(al)){al=ad.shadowBlur!=null?ad.shadowBlur:14}if(zot(O)){O=ad.buttonBar!=null?ad.buttonBar:(l?false:true)}if(zot(aK)){if(O){aK=ad.draggable!=null?ad.draggable:true}else{aK=ad.draggable!=null?ad.draggable:false}}if(zot(P)){P=ad.circles!=null?ad.circles:false}if(zot(av)){av=ad.indicator!=null?ad.indicator:false;if(!O){av=ad.indicator!=null?ad.indicator:true}}if(zot(B)){B=ad.backgroundColor!=null?ad.backgroundColor:"black"}if(zot(aT)){aT=ad.keyArrows!=null?ad.keyArrows:true}var Q=this;if(zot(au)){if(zimDefaultFrame){au=zimDefaultFrame.stage}else{return}}else{if(!au.getBounds){return}else{if(zot(au.getStage)){return}}}Q.container=au;var x="#e472c4";var aR="#50c4b7";var u=1;var s=1;var D=new createjs.Shape();this.addChild(D);D.x+=ac;D.y+=ac;var aM=false;var aI;var H;var t=[];if(zot(ax)){aM=true;var aS=6;var aw=aS*aS*aS;aS=Math.ceil(Math.pow(aw,1/2));H=(aE-ac)/18-ac;var W=Math.floor(Math.pow(aS*aS,1/3));aI=[];for(var T=0;T<6;T++){for(var S=0;S<6;S++){for(var R=0;R<6;R++){aI.push("#"+F(T*3)+F(S*3)+F(R*3))}}}ax=[];var X,L,aB,at;for(T=0;T<aI.length;T++){X=Math.floor(T/6);L=T%6;if(X>=6*3){W=1}else{W=0}aB=X-W*6*3;at=L+W*6;ax[at*18+aB]=aI[T]}aQ=18;t=[aR,x]}else{H=(aE-ac)/aQ-ac}var ah=Math.ceil(ax.length/aQ);var ar=String(ax[ax.length-1]);if(!zot(aj)){ar=String(aj)}var ag;if(aM){ag=aR}function F(f){f=Math.floor(f).toString(16);return f+""+f}var U=D.graphics;var W=0;var A,L,X,o,n;var aa=ad.borderColor!=null?ad.borderColor:null;var q=ad.borderWidth!=null?ad.borderWidth:null;if(!zot(aa)&&zot(q)){q=1}if(q&&zot(aa)){aa="#333"}if(q){U.s(aa).ss(q)}for(T=0;T<ax.length;T++){X=T%aQ;L=Math.floor(T/aQ);o=X*(H+ac);n=L*(H+ac);if(P){U.f(ax[T]).dc(o+H/2,n+H/2,H/2)}else{U.f(ax[T]).r(o,n,H,H)}}var aF=n+H+ac;Q.colors=ax;var aq=aF;if(N){for(T=0;T<16;T++){t.push("#"+F(T)+F(T)+F(T))}for(T=0;T<t.length;T++){X=Math.floor(T/aQ);L=T%aQ;o=L*(H+ac);n=X*(H+ac)+aF;if(P){U.f(t[T]).dc(o+H/2,n+H/2,H/2)}else{U.f(t[T]).r(o,n,H,H)}}aF=n+H+ac;var az=aQ;var I=Math.ceil(t.length/aQ)}Q.greys=t;if(av){av=this.indicator=P?new e.Circle(H/2*0.5,null,null,null,null,null,false):new e.Rectangle(H*0.5,H*0.5,null,null,null,null,null,false);av.alpha=0.5;av.centerReg();this.addChild(av);function aP(f){if(zot(f)||f<0){av.visible=false;return}else{av.visible=true}if(ar=="#000"||ar=="#000000"||ar=="black"){av.color="#222";av.alpha=1}else{av.color="black";av.alpha=0.5}av.x=D.x+f%aQ*(H+ac)+H/2;av.y=D.x+Math.floor(f/aQ)*(H+ac)+H/2}aP(ax.indexOf(ar))}var aJ=10;if(p){var am=new e.Container({style:false});am.setBounds(0,0,600,70);this.addChild(am);am.x=0;am.y=aF;var aH=this.alphaBacking=new e.Rectangle(600-aJ*2,50,"#222",null,null,0,null,false);am.addChild(aH);e.centerReg(aH,am);var V=this.alphaBut=new e.Button({width:20,height:30,backgroundColor:"darkorange",rollBackgroundColor:"orange",label:"",corner:0,hitPadding:20,style:false});var z=this.alphaSlider=new e.Slider({min:0,max:1,step:0.05,button:V,barLength:600*0.55,barWidth:2,barColor:"#999",vertical:false,useTicks:false,inside:false,style:false});z.currentValue=1;am.addChild(z);z.x=40;z.y=am.height/2;var aA=this.alphaText=new e.Label({text:"Alpha: 1",size:30,color:"orange",backing:"ignore",shadowColor:"ignore",shadowBlur:"ignore",backgroundColor:"ignore",rollColor:"orange",group:this.group});am.addChild(aA);aA.x=z.x+z.bar.width+40;aA.y=am.height/2-aA.height/2;am.scaleX=am.scaleY=aE/600;z.on("change",function(){aA.text="Alpha: "+aO(z.currentValue);if(aC){aC.alpha=s=z.currentValue}if(O){Q.dispatchEvent("set")}else{Q.dispatchEvent("change")}if(Q.stage){Q.stage.update()}});aF+=am.height-aJ}if(O){var v=new e.Container({style:false});v.setBounds(0,0,600,100);this.addChild(v);v.x=0;v.y=aF+aJ;var aN=this.swatchText=new e.Label({align:"center",text:ar.toUpperCase().substr(0,7),size:30,color:"orange",rollColor:"orange",backing:"ignore",shadowColor:"ignore",shadowBlur:"ignore",backgroundColor:"ignore",group:this.group});v.addChild(aN);e.centerReg(aN);aN.x=200/2-10;aN.y=50-2;if(aK){var Y=this.grip=new e.Shape({style:false});v.addChild(Y);Y.graphics.f("rgba(256,256,256,.25)").r(0,0,5,20).r(10,0,5,20).r(20,0,5,20).r(30,0,5,20);Y.x=70;Y.y=65;aN.y=50-10;Y.mouseEnabled=false}var af=this.closeBut=new e.Button({width:90,height:90,label:"X",backgroundColor:"#222",rollBackgroundColor:"#444",corner:0,style:false});v.addChild(af);af.x=600-af.width-aJ;af.y=0;af.on((!zns?ACTIONEVENT=="mousedown":e.ACTIONEVENT=="mousedown")?"mousedown":"click",function(){Q.dispatchEvent("close")});var m=this.okBut=new e.Button({width:150,height:90,label:"OK",backgroundColor:"#222",rollBackgroundColor:"#444",corner:0,style:false});v.addChild(m);m.x=af.x-m.width-aJ;m.y=0;m.on((!zns?ACTIONEVENT=="mousedown":e.ACTIONEVENT=="mousedown")?"mousedown":"click",ak);var M=this.swatchBacking=new e.Shape({style:false});v.addChild(M);var U=M.graphics;U.f("black").r(0.5,0.5,50,89).f("#666").r(50,0.5,50,89).f("white").r(100,0.5,49.5,89);M.x=m.x-150-aJ;M.y=0;var aC=this.swatch=new e.Rectangle(150,90,ar,null,null,null,null,false);v.addChild(aC);aC.x=M.x;aC.y=0;aC.on((!zns?ACTIONEVENT=="mousedown":e.ACTIONEVENT=="mousedown")?"mousedown":"click",ak);aC.cursor="pointer";v.scaleX=v.scaleY=aE/600;aF+=v.height}else{D.cursor="pointer"}if(!p&&!O){aF-=aJ-ac}var y=aF+aJ;this.setBounds(0,0,aE,y);var aG=this.background=new e.Rectangle(aE,y,B,null,null,null,null,false);this.addChildAt(aG,0);if(ae!=-1&&al>0){aG.shadow=new createjs.Shadow(ae,8,8,al)}function ak(){if(ar!=ag||s!=u){if(aM&&N){aR=x;x=ag;var f=[aR,x];for(T=0;T<2;T++){var i=D.graphics;X=Math.floor(T/aQ);L=T%aQ;o=L*(H+ac);n=X*(H+ac)+aq;t[T]=f[T];i.f(aG.color).r(o-1,n-1,H+2,H+2).f(f[T]).r(o,n,H,H)}if((!e.OPTIMIZE&&(zns||!OPTIMIZE))&&Q.stage){Q.stage.update()}}ag=ar;u=s;Q.dispatchEvent("change")}else{Q.dispatchEvent("close")}}if(aK){var ap,ao;aG.on("mousedown",function(f){ap=f.stageX-Q.x;ao=f.stageY-Q.y;aG.cursor="move"});aG.on("pressmove",function(f){Q.x=f.stageX-ap;Q.y=f.stageY-ao;if(Q.stage){Q.stage.update()}});aG.on("pressup",function(f){aG.cursor="default";if(Q.stage){Q.stage.update()}})}var ai=aQ*(H+ac);var an=ah*(H+ac);if(N){var G=az*(H+ac);var J=I*(H+ac)}D.on((!zns?ACTIONEVENT=="mousedown":e.ACTIONEVENT=="mousedown")?"mousedown":"click",function(g){var f=e.hitTestGrid(D,ai,an,aQ,ah,g.stageX,g.stageY,0,0,ac,ac);if(!zot(f)){ar=ax[f];if(O){aC.color=ar;aN.text=String(ax[f]).toUpperCase().substr(0,7);if(ar!=ag){Q.dispatchEvent("set")}}else{ak()}}if(N){f=null;f=e.hitTestGrid(D,G,J,az,I,g.stageX,g.stageY,0,an,ac,ac);if(!zot(f)){ar=t[f];if(O){aC.color=ar;aN.text=t[f].toUpperCase();if(ar!=ag){Q.dispatchEvent("set")}}else{ak()}}}if(av){aP(ax.indexOf(ar))}if(O){if(Q.stage){Q.stage.update()}}else{if(av){if(Q.stage){Q.stage.update()}}}K()});Object.defineProperty(this,"selectedColor",{get:function(){return ar},set:function(f){ag=ar=f;if(O){aC.color=ar;aN.text=ar;if(Q.stage){Q.stage.update()}}if(av){aP(ax.indexOf(ar))}K()}});Object.defineProperty(this,"currentValue",{get:function(){return ar},set:function(f){Q.selectedColor=f}});Object.defineProperty(this,"currentValueEvent",{get:function(){return ar},set:function(f){if(f!=Q.selectedColor){Q.selectedColor=f;Q.dispatchEvent("change")}}});Object.defineProperty(this,"selectedIndex",{get:function(){return ax.indexOf(ar)},set:function(f){ag=ar=ax[f];if(O){aC.color=ar;aN.text=ar;if(Q.stage){Q.stage.update()}}if(av){aP(ax.indexOf(ar))}K()}});Object.defineProperty(this,"selectedAlpha",{get:function(){if(p){return aO(z.currentValue)}else{return 1}},set:function(f){if(p){u=z.currentValue=f;if(aC){aC.alpha=u}if(aA){aA.text="Alpha: "+aO(z.currentValue)}if(Q.stage){Q.stage.update()}}}});Object.defineProperty(this,"colors",{get:function(){if(N){return ax.concat(t)}else{return ax}},set:function(f){if(zon){zog("Display - ColorPicker() colors is read only - make a new ColorPicker to change")}}});if(typeof KEYFOCUS!==typeof undefined){e.KEYFOCUS=KEYFOCUS}Object.defineProperty(this,"keyFocus",{get:function(){return e.KEYFOCUS==Q},set:function(f){if(zns){e.KEYFOCUS=Q}else{KEYFOCUS=Q}}});if(aT&&e.KEYFOCUS){ay()}this.on("mousedown",function(){if(aT){ay()}});function ay(){Q.keyFocus=true;var f=document.activeElement;if(f){f.blur()}}function K(){if(Q.zimAccessibility){Q.zimAccessibility.changeTitle(Q,null,true)}}this.keyDownEvent=function(i){if(!Q.stage){return}if((Q.zimAccessibility&&Q.focus)||(!Q.zimAccessibility&&Q.keyFocus)){var f=Q.selectedIndex;if(i.keyCode==37||i.keyCode==40){f--;g()}else{if(i.keyCode==38||i.keyCode==39){f++;g()}}function g(){if(f<0){f=Q.colors.length-1}if(f>Q.colors.length-1){f=0}Q.selectedIndex=f;Q.dispatchEvent("change");if(Q.stage){Q.stage.update()}}}};window.addEventListener("keydown",this.keyDownEvent);this.hide=function(){Q.removeFrom();Q.toggled=false;if(Q.zimAccessibility){var f=Q.zimAccessibility;f.resize(Q);if(aL){aL.focus()}else{Q.zimTabTag.nextSibling.focus()}setTimeout(function(){f.talk("ColorPicker has been closed.")},50)}return Q};var aL;this.show=function(){Q.center(Q.container);if(Q.zimAccessibility){var f=Q.zimAccessibility;setTimeout(function(){if(f.activatedObject){aL=f.activatedObject.zimTabTag}},50);f.resize(Q);f.tabIndex=Q.zimTabIndex}Q.toggled=true;return Q};this.toggle=function(f){if(f===true){Q.show()}else{if(f===false){Q.hide()}else{if(Q.container.contains(Q)){Q.hide()}else{Q.show()}}}return Q};function aO(f){return Math.round(f*Math.pow(10,2))/Math.pow(10,2)}if(Z!==false){c(this,ad)}this.clone=function(){return Q.cloneProps(new e.ColorPicker(aE,aM?null:ax,aQ,ac,N,p,aj,aK,ae,al,O,P,av,B,aT,au,Z,this.group,C))};this.dispose=function(){window.removeEventListener("keydown",Q.keyDownEvent);if(z){z.dispose()}this.zimContainer_dispose();return true}};e.extend(e.ColorPicker,e.Container,["clone","dispose"],"zimContainer",false);e.Frame=function(g,f,k,I,A,j,ac,G,p,aj,aq,ah,X,E,L,R,y,x,v,U,am,Q,ap,u){var z="scaling, width, height, color, outerColor, assets, path, progress, rollover, touch, scrollTop, align, valign, canvasID, rollPerSecond, delay, canvasCheck, gpu, gpuObj, nextFrame, nextStage, allowDefault, loadFailObj, sensors";var m;if(m=zob(e.Frame,arguments,z,this)){return m}this.cjsEventDispatcher_constructor();this.type="Frame";var T=this;if(typeof zimDefaultFrame=="undefined"){zimDefaultFrame=this}if(zot(y)){y=true}var ab=!!window.HTMLCanvasElement;if(!ab&&y){setTimeout(function(){T.dispatchEvent("failed")},100);return}var O=e.mobile();if(zot(g)){g="full"}if(zot(p)){p=!O}if(zot(aj)){aj=true}if(zot(aq)){aq=false}if(zot(ah)){ah="center"}if(zot(X)){X="center"}var af="";if(zot(E)){if(zimDefaultFrame!=this){af=e.makeID(5);E="myCanvas"+af}else{E="myCanvas"}}if(zot(L)){L=20}if(zot(R)){R=0}if(zot(x)){x=false}if(zot(Q)){Q=false}if(zot(ap)){ap="circles"}this.loadFailObj=ap;if(zot(u)){u=false}var o=false;var aa=["fit","outside","full"];this.scale=1;this.x=0;this.y=0;var t;var N=f;var Z=k;var ao;var n;var C;var J=false;var M;var ad;var S=false;if(document.readyState==="interactive"||document.readyState==="complete"){setTimeout(function(){ak()},200)}else{document.addEventListener("DOMContentLoaded",ak)}var W;var ai=false;var V=(g=="full"&&typeof InstallTrigger!=="undefined");window.addEventListener("resize",i);function i(){if(V){if(!ai){ai=true;W=e.Ticker.update;e.Ticker.update=false;setTimeout(function(){ai=false;if(t==zimDefaultFrame.stage){e.Ticker.update=W}},40);setTimeout(function(){l();ae()},20)}}else{l();ae();if(R>0){if(O){setTimeout(function(){l();ae()},R)}}}}function ak(){if(S){return}S=true;if(aa.indexOf(g)==-1){M=g;if(zot(zid(M))){zog("zim.Frame - scaling: HTML tag with id="+g+" must exist");return}ad=this.tag=zid(M);g=(zot(f)||zot(k))?"tag":"inline";if(E.indexOf("myCanvas")==0){E=M+"Canvas"}}T.canvasID=E;if(zot(f)){f=500}if(zot(k)){k=500}if(!zot(A)){T.outerColor=A}r();D();if(O){if(aq){setTimeout(function(){window.scrollTo(0,0)},50)}setTimeout(function(){l();an()},100);if(R>100){setTimeout(function(){l();an()},R)}}else{an()}T.loadAssetsCount=0;T.assets={};T.assetIDs={};if(!zot(j)){var at;if(j.constructor=={}.constructor&&!(j.audioSprite||j.id||j.data||j.src)){at=T.loadAssets(e.merge(j,{progress:G,queueOnly:true}))}else{at=T.loadAssets({assets:j,path:ac,progress:G,queueOnly:true})}if(zot(at)||!at.on){if(zon){zog("ZIM Frame - load failed")}an()}else{at.on("complete",function(){an()})}}else{an()}}function an(){if(o){if(!zot(G)&&G.show){G.hide()}T.dispatchEvent("ready");J=true;ae()}else{o=true}}function r(){var at=T.canvas=document.createElement("canvas");at.setAttribute("id",E);at.setAttribute("tabindex",0);if(g=="full"||g=="tag"){at.setAttribute("width",e.windowWidth());at.setAttribute("height",e.windowHeight())}else{at.setAttribute("width",N);at.setAttribute("height",Z)}var au=zid(E+"Alternative");if(au){at.appendChild(au)}if(g=="tag"||g=="inline"){ad.appendChild(at)}else{document.body.appendChild(at)}if(!zot(I)){at.style.backgroundColor=I}if(g=="full"||g=="fit"||g=="outside"){at.style.position="absolute";if(!Q){document.body.style.overflow="hidden"}}}function D(){l();if(aa.indexOf(g)!=-1&&!Q){T.zil=zil()}t=x?new e.StageGL(E,v):new e.Stage(E);if(!zot(I)&&x){t.setClearColor(e.convertColor(I))}t.setBounds(0,0,N,Z);t.width=N;t.height=Z;if(p){t.enableMouseOver(10)}if(aj){createjs.Touch.enable(t,false,Q)}if(Q){t.preventSelection=false}if(U){t.nextStage=U.stage}if(am){t.nextStage=am}}function l(){if(!T){return}var aw=zid(E);var at=e.windowWidth();var av=e.windowHeight();var ay;var au;n=T.orientation=(at>av)?"horizontal":"vertical";if(n!=C){C=n;T.dispatchEvent("orientation")}if(O&&aq){setTimeout(function(){window.scrollTo(0,0)},100)}if(!aw){return}if(g=="fit"){T.scale=(at/av>=N/Z)?av/Z:at/N}else{if(g=="outside"){T.scale=(at/av>=N/Z)?at/N:av/Z}else{if(g=="full"){aw.style.left=aw.style.top="0px";aw.width=N=at;aw.height=Z=av;if(t){t.setBounds(0,0,N,Z);t.width=N;t.height=Z;if(x){t.updateViewport(N,Z)}}e.scrollX(0);e.scrollY(0);B();return}else{if(g=="tag"){N=ad.style.width==""?(ad.getAttribute("width")||ad.offsetWidth):ad.style.width;Z=ad.style.height==""?(ad.getAttribute("height")||ad.offsetHeight):ad.style.height;if(t){t.setBounds(0,0,N,Z);t.width=N;t.height=Z;if(x){t.updateViewport(N,Z)}}ad.style.overflow="hidden";aw.width=N;aw.height=Z;aw.style.left=aw.style.top="0px";var ax=aw.getBoundingClientRect();T.x=ax.x+e.scrollX();T.y=ax.y+e.scrollY();B();return}else{if(g=="inline"){if(t){t.setBounds(0,0,N,Z);t.width=N;t.height=Z;if(x){t.updateViewport(N,Z)}}aw.style.left=aw.style.top="0px";var ax=aw.getBoundingClientRect();T.x=ax.x+e.scrollX();T.y=ax.y+e.scrollY();B();return}}}}}au=Z*T.scale;ay=N*T.scale;aw.style.width=ay+"px";aw.style.height=au+"px";if(ah=="left"){T.x=0}else{if(ah=="right"){T.x=(at-ay)}else{T.x=((at-ay)/2)}}if(X=="top"){T.y=0}else{if(X=="bottom"){T.y=(av-au)}else{T.y=((av-au)/2)}}aw.style.left=T.x+"px";aw.style.top=T.y+"px";e.scrollX(0);e.scrollY(0);B()}function B(){if(g=="outside"){var au=(zum(frame.canvas.style.width)-windowWidth())/2;if(ah=="left"){T.visibleLeft=0;T.visibleRight=windowWidth()/(windowWidth()+au*2)*N}else{if(ah=="right"){T.visibleLeft=au*2/(windowWidth()+au*2)*N;T.visibleRight=N}else{T.visibleLeft=au/(windowWidth()+au*2)*N;T.visibleRight=(windowWidth()+au)/(windowWidth()+au*2)*N}}var at=(zum(frame.canvas.style.height)-windowHeight())/2;if(X=="top"){T.visibleTop=0;T.visibleBottom=windowHeight()/(windowHeight()+at*2)*Z}else{if(X=="bottom"){T.visibleTop=at*2/(windowHeight()+at*2)*Z;T.visibleBottom=Z}else{T.visibleTop=at/(windowHeight()+at*2)*Z;T.visibleBottom=(windowHeight()+at)/(windowHeight()+at*2)*Z}}}else{T.visibleLeft=T.visibleTop=0;T.visibleRight=N;T.visibleBottom=Z}}function ae(){if(!J||!T){return}T.dispatchEvent("resize");if((!e.OPTIMIZE&&(zns||!OPTIMIZE))&&t&&(g=="full"||g=="tag")){t.update()}}this.loadAssets=function(at,aV,aN,a5,aY,ay,aT,aX,aA,aM){if(zot(at)){return}if(zot(at.src)){var aH="assets, path, progress, xhr, time, loadTimeout, outputAudioSprite, crossOrigin, fileType, queueOnly";var aw;if(aw=zob(T.loadAssets,arguments,aH)){return aw}}if(!zot(aN)&&aN.type=="ProgressBar"&&zot(a5)){a5=true}if(!Array.isArray(at)){at=[at]}if(at.length==0){return}if(zot(aY)){aY=0}if(zot(ay)){ay=8000}if(zot(aT)){aT=false}if(zot(aX)){aX="anonymous"}if(zot(aM)){aM=false}var aK=false;var aE=[];var a6;var a4;var a2;var a1;var aS=/\.([^.]+)$/i;var aZ=[];var aI=[];var aU=0;var aF=true;for(a2=0;a2<at.length;a2++){a6=at[a2];if(a6.constructor=={}.constructor){if(a6.audioSprite){var au=e.copy(a6);a6=au.src;aL(a6);var aP=[];var aW;for(a1=0;a1<au.audioSprite.length;a1++){aW=au.audioSprite[a1];aP.push({id:aW[0],startTime:Math.round(aW[1]*1000),duration:Math.round((aW[2]-aW[1])*1000)})}delete (au.audioSprite);au.data={audioSprite:aP};if(aT){zog(JSON.stringify(au))}aE.push(au)}else{if(a6.data&&a6.data.audioSprite){var au=e.copy(a6);a6=au.src;aL(a6);aE.push(au)}else{if(a6.id){T.assetIDs[a6.id]=a6.src;a6=a6.src;aL(a6);var aR={src:a6,loadTimeout:ay};if(!zot(aA)){aR.type=aA}aE.push(aR)}else{if(a6.src.match(/fonts\.googleapis\.com/)){aI.push(a6)}else{aZ.push(a6)}}}}}else{aL(a6);var aR={src:a6,loadTimeout:ay};if(!zot(aA)){aR.type=aA}aE.push(aR)}if(aK&&aF){var a0=document.createElement("audio");a0.setAttribute("src",(!zot(aV)?aV:"")+a6);document.body.appendChild(a0);aF=false}}function aL(a7){aU++;a4=a7.match(aS);if(a4&&createjs.Sound.SUPPORTED_EXTENSIONS.indexOf(a4[1])>=0){aK=true}}T.loadAssetsCount++;T.isLoading=true;var az=new e.Queue();az.isLoading=true;az.loadAssetsCount=0;if(!zot(aN)&&aN.show){aN.zimActiveLoader=az;aN.show()}if(aZ.length>0){var aD=[];var aQ;var ax;for(var a2=0;a2<aZ.length;a2++){ax=aZ[a2];aQ={src:"url("+(ax.src.match(/^http/i)?"":(aV?aV:""))+ax.src+")"+(ax.type?" format('"+ax.type+"')":""),family:ax.font};if(ax.weight){aQ.weight=ax.weight}if(ax.style){aQ.style=ax.style}aD.push(aQ)}var aG=new createjs.FontLoader({src:aD},true);aG.on("complete",aJ);aG.on("error",aJ);aG.load();az.loadAssetsCount++}if(aI.length>0){var aG;for(var a2=0;a2<aI.length;a2++){ax=aI[a2];aQ={src:ax.src,type:"fontcss"};az.loadAssetsCount++;aG=new createjs.FontLoader(aQ,true);aG.on("complete",aJ);aG.on("error",aJ);aG.load()}}function aJ(){az.loadAssetsCount--;if(az.loadAssetsCount==0){aB()}}var av=Date.now();var aO=new createjs.Event("complete");if(aU>0){az.loadAssetsCount++;var aC=az.preload=T.preload=new createjs.LoadQueue(a5,aV,aX);if(aK){aC.installPlugin(createjs.Sound)}aC.on("progress",function(a7){az.dispatchEvent(a7);if(!aM){T.dispatchEvent(a7)}});aC.on("error",function(a7){az.dispatchEvent(a7);if(!aM){T.dispatchEvent(a7)}});aC.on("fileload",function(be){var bd=be.item;var bb=be.item.type;var ba=bd.id.match(aS);var a9;if(bb&&bb=="sound"){var a7=[];if(bd.data&&bd.data.audioSprite){for(var a8=0;a8<bd.data.audioSprite.length;a8++){a7.push(bd.data.audioSprite[a8].id)}}else{a7.push(bd.id)}for(var a8=0;a8<a7.length;a8++){~function(){var bf=a7[a8];a9=T.assets[a7[a8]]={type:"sound",path:aV,id:bf,play:function(bh){if(bh&&bh.loop===true){bh.loop=-1}if(bh&&bh.loopCount){bh.loop=bh.loopCount}var bg=createjs.Sound.play(bf,bh);bg.getStage=function(){return t};return bg}}}()}}else{if(bb=="image"){a9=T.assets[bd.id]=new e.Bitmap(be.result,be.result.width,be.result.height,bd.id)}else{a9=T.assets[bd.id]=be.result}}var bc=new createjs.Event("assetload");bc.item=bd;bc.asset=a9;az.dispatchEvent(be);if(!aM){T.dispatchEvent(bc)}});T.preloadEvent=aC.on("complete",function(a7){aO=a7;az.loadAssetsCount--;if(az.loadAssetsCount==0){aB()}});try{aC.loadManifest(aE)}catch(a3){}}function aB(){var a7=Date.now();aY=Math.max(0,aY-(a7-av));setTimeout(function(){T.loadAssetsCount--;if(T.loadAssetsCount<=0){T.isLoading=false}az.isLoading=false;az.dispatchEvent(aO);if(!aM){T.dispatchEvent(aO)}},aY)}return az};this.asset=function(av){if(zot(av)){return}var at=T.assetIDs[av];if(at){av=at}if(T.assets[av]){return T.assets[av]}if(T.loadFailObj=="circles"){var au=frame.makeCircles(14)}else{var au=T.loadFailObj}if(au){au.type="EmptyAsset";au.id=av;au.play=function(){if(zon){zog("zim.Frame - asset("+av+") not found");return{}}}}return au};Object.defineProperty(T,"stage",{get:function(){return t},set:function(at){zog("zim.Frame(): stage is read only - see remakeCanvas(), perhaps")}});Object.defineProperty(T,"width",{get:function(){return N},set:function(at){zog("zim.Frame(): width is read only - see remakeCanvas(), perhaps")}});Object.defineProperty(T,"height",{get:function(){return Z},set:function(at){zog("zim.Frame(): height is read only - see remakeCanvas(), perhaps")}});Object.defineProperty(this,"color",{get:function(){return I},set:function(at){I=at;if(!zot(at)){zid(E).style.backgroundColor=I;if(!zot(I)&&x){t.setClearColor(e.convertColor(I))}}else{zid(E).style.backgroundColor="default"}}});var ag;Object.defineProperty(this,"outerColor",{get:function(){return ag},set:function(at){ag=at;zet("body").css({backgroundColor:ag})}});var s=Q;Object.defineProperty(T,"allowDefault",{get:function(){return s},set:function(at){if(at){t.preventSelection=false;document.body.style.overflow="visible";if(T.zil){window.removeEventListener("keydown",T.zil[0]);window.removeEventListener("wheel",T.zil[1]);window.removeEventListener("DOMMouseScroll",T.zil[2]);T.zil=null}}else{t.preventSelection=true;document.body.style.overflow="hidden";if(zot(T.zil)){T.zil=zil()}}s=at}});var F=new createjs.Event("keydown");this.eventRemove=F.remove;function ar(at){at.remove=T.eventRemove;T.altKey=at.altKey;T.ctrlKey=at.ctrlKey;T.metaKey=at.metaKey;T.shiftKey=at.shiftKey;T.dispatchEvent(at)}window.addEventListener("keydown",ar);function K(at){T.altKey=at.altKey;T.ctrlKey=at.ctrlKey;T.metaKey=at.metaKey;T.shiftKey=at.shiftKey;at.remove=T.eventRemove;T.dispatchEvent(at)}window.addEventListener("keyup",K);function P(at){T.dispatchEvent(at)}window.addEventListener("wheel",P);function H(at){at.remove=T.eventRemove;T.dispatchEvent(at)}if(u&&window.DeviceMotionEvent){window.addEventListener("devicemotion",H)}function Y(at){at.remove=T.eventRemove;var au=360-at.alpha;if(Math.abs(au-q)>180-45&&Math.abs(au-q)<180+45){al=al==0?180:0}q=au;at.rotation={x:at.beta,y:at.gamma,z:(au+al)%360};T.dispatchEvent(at)}if(u&&window.DeviceOrientationEvent){var q=0;var al=0;window.addEventListener("deviceorientation",Y)}this.remakeCanvas=function(au,at){if(g=="full"){return}if(zot(au)){au=N}if(zot(at)){at=Z}if(zid(E)){zid(E).parentNode.removeChild(zid(E))}N=au;Z=at;r();D()};this.dispose=function(){window.removeEventListener("resize",i);window.removeEventListener("keydown",ar);window.removeEventListener("keyup",K);window.removeEventListener("wheel",P);window.removeEventListener("devicemotion",H);window.removeEventListener("deviceorientation",Y);at(t);function at(av){av.removeAllEventListeners();if(av.numChildren){for(var au=av.numChildren-1;au>=0;au--){at(av.getChildAt(au))}}if(av.parent){av.parent.removeChild(av)}}if(zid(E)){zid(E).parentNode.removeChild(zid(E))}t=null;T=null;return true};this.orange="#f58e25";this.green="#acd241";this.pink="#e472c4";this.blue="#50c4b7";this.brown="#d1a170";this.yellow="#ebcb35";this.purple="#993399";this.red="#fb4758";this.silver="#999999";this.tin="#777777";this.grey="#555555";this.gray="#555555";this.lighter="#eeeeee";this.moon="#dddddd";this.light="#cccccc";this.dark="#333333";this.darker="#111111";this.black="#000000";this.white="#ffffff";this.clear="rgba(0,0,0,0)";this.faint="rgba(0,0,0,.01)";this.makeCircles=function(au,at){if(zot(au)){au=100}var av=[T.orange,T.green,T.pink,T.blue,T.brown,T.dark];if(at){var ay=new e.Container({style:false});ay.radius=au;for(var aw=0;aw<av.length;aw++){ay.addChild(new e.Circle((ay.radius/av.length)*(av.length-aw),av[aw],null,null,null,null,false))}}else{var ay=new e.Shape({style:false});var ax=ay.graphics;ay.radius=au;for(var aw=0;aw<av.length;aw++){ax.f(av[aw]).dc(0,0,(ay.radius/av.length)*(av.length-aw))}ay.setBounds(-ay.radius,-ay.radius,ay.radius*2,ay.radius*2)}return ay}};e.extend(e.Frame,createjs.EventDispatcher,null,"cjsEventDispatcher",false);e.Queue=function(){this.cjsEventDispatcher_constructor();this.isLoading=true};e.extend(e.Queue,createjs.EventDispatcher,null,"cjsEventDispatcher");return e}(zim||{});function zimify(e,c){var d={drag:function(j,k,v,t,m,o,l,u,n,r,s,i,p,f,q,g){if(isDUO(arguments)){arguments[0].obj=this;return zim.drag(arguments[0])}else{return zim.drag(this,j,k,v,t,m,o,l,u,n,r,s,i,p,f,q,g)}},noDrag:function(){return zim.noDrag(this)},dragBoundary:function(f){return zim.dragBoundary(this,f)},dragRect:function(f){return zim.dragBoundary(this,f)},transform:function(u,C,B,G,z,v,k,y,A,p,n,s,o,f,H,F,x,i,D,t,r,q,g,m,l,j,E){if(isDUO(arguments)){arguments[0].obj=this;return zim.transform(arguments[0])}else{return zim.transform(this,u,C,B,G,z,v,k,y,A,p,n,s,o,f,H,F,x,i,D,t,r,q,g,m,l,j,E)}},setSwipe:function(f){return zim.setSwipe(this,f)},gesture:function(l,m,n,i,k,f,u,q,p,r,g,o,t,j,s){if(isDUO(arguments)){arguments[0].obj=this;return zim.gesture(arguments[0])}else{return zim.gesture(this,l,m,n,i,k,f,u,q,p,r,g,o,t,j,s)}},noGesture:function(f,i,g){if(isDUO(arguments)){arguments[0].obj=this;return zim.noGesture(arguments[0])}else{zim.noGesture(this,f,i,g)}},gestureBoundary:function(g,f){return zim.gestureBoundary(this,g,f)},gestureRect:function(g,f){return zim.gestureBoundary(this,g,f)},addPhysics:function(i,q,n,j,m,o,p,f,k,g,l){if(isDUO(arguments)){arguments[0].obj=this;return zim.addPhysics(arguments[0])}else{return zim.addPhysics(this,i,q,n,j,m,o,p,f,k,g,l)}},removePhysics:function(){return zim.removePhysics(this)},hitTestPoint:function(f,i,g){return zim.hitTestPoint(this,f,i,g)},hitTestReg:function(f,g){return zim.hitTestReg(this,f,g)},hitTestRect:function(f,g,i){return zim.hitTestRect(this,f,g,i)},hitTestCircle:function(f,g,i){return zim.hitTestCircle(this,f,g,i)},hitTestCircles:function(f,g){return zim.hitTestCircles(this,f,g)},hitTestBounds:function(g,i,f){return zim.hitTestBounds(this,g,i,f)},boundsToGlobal:function(g,i,f){return zim.boundsToGlobal(this,g,i,f)},resetBounds:function(g,f,j,i){return zim.resetBounds(this,g,f,j,i)},hitTestGrid:function(f,o,m,r,n,l,i,g,q,p,k,j){return zim.hitTestGrid(this,f,o,m,r,n,l,i,g,q,p,k,j)},animate:function(E,O,G,g,i,o,p,A,k,x,z,t,r,N,K,S,J,F,y,L,l,Q,R,f,T,q,H,M,n,P,v,D,I,C,U,B,m,s,u,j){if(isDUO(arguments)){arguments[0].target=this;return zim.animate(arguments[0])}else{return zim.animate(this,E,O,G,g,i,o,p,A,k,x,z,t,r,N,K,S,J,F,y,L,l,Q,R,f,T,q,H,M,n,P,v,D,I,C,U,B,m,s,u,j)}},pauseAnimate:function(){return this},stopAnimate:function(){return this},wiggle:function(r,s,n,l,k,g,f,p,j,m,i,o,q){if(isDUO(arguments)){arguments[0].target=this;return zim.wiggle(arguments[0])}else{return zim.wiggle(this,r,s,n,l,k,g,f,p,j,m,i,o,q)}},loop:function(i,g,j,k,f){return zim.loop(this,i,g,j,k,f)},copyMatrix:function(f){return zim.copyMatrix(this,f)},duplicate:function(){return zim.duplicate(this)},cur:function(f){return zim.cur(this,f)},sha:function(g,f,j,i){return zim.sha(this,g,f,j,i)},pos:function(n,m,o,f,g,l,p,i,k,j){if(isDUO(arguments)){arguments[0].obj=this;return zim.pos(arguments[0])}else{return zim.pos(this,n,m,o,f,g,l,p,i,k,j)}},loc:function(l,m,g,j,k,i,f){if(isDUO(arguments)){arguments[0].obj=this;return zim.loc(arguments[0])}else{return zim.loc(this,l,m,g,j,k,i,f)}},mov:function(f,g){if(isDUO(arguments)){arguments[0].obj=this;return zim.mov(arguments[0])}else{return zim.mov(this,f,g)}},top:function(){return zim.top(this)},bot:function(){return zim.bot(this)},ord:function(f){return zim.ord(this,f)},dep:function(f){return zim.dep(this,f)},alp:function(f){return zim.alp(this,f)},hov:function(g,f){return zim.hov(this,g,f)},rot:function(g,f,i){return zim.rot(this,g,f,i)},siz:function(i,f,g){return zim.siz(this,i,f,g)},ske:function(g,f){return zim.ske(this,g,f)},reg:function(g,f){return zim.reg(this,g,f)},sca:function(g,f){return zim.sca(this,g,f)},scaleTo:function(k,j,f,i,g){if(isDUO(arguments)){arguments[0].obj=this;return zim.scaleTo(arguments[0])}else{return zim.scaleTo(this,k,j,f,i,g)}},fit:function(k,j,i,g,f){if(isDUO(arguments)){arguments[0].obj=this;return zim.fit(arguments[0])}else{return zim.fit(this,k,j,i,g,f)}},outline:function(f,g){if(isDUO(arguments)){arguments[0].obj=this;return zim.outline(arguments[0])}else{return zim.outline(this,f,g)}},addTo:function(f,i,g){if(isDUO(arguments)){arguments[0].obj=this;return zim.addTo(arguments[0])}else{return zim.addTo(this,f,i,g)}},removeFrom:function(f){return zim.removeFrom(this,f)},added:function(i,f,g){return zim.added(this,i,f,g)},tap:function(g,j,i,f){return zim.tap(this,g,j,i,f)},noTap:function(){return zim.noTap(this)},change:function(g,f){return zim.change(this,g,f)},noChange:function(){return zim.noChange(this)},centerReg:function(f,g,i){if(isDUO(arguments)){arguments[0].obj=this;return zim.centerReg(arguments[0])}else{return zim.centerReg(this,f,g,i)}},center:function(f,g,i){if(isDUO(arguments)){arguments[0].obj=this;return zim.center(arguments[0])}else{return zim.center(this,f,g,i)}},place:function(f){return zim.place(this,f)},placeReg:function(f){return zim.placeReg(this,f)},expand:function(g,f){return zim.expand(this,g,f)},setMask:function(f,g){return zim.setMask(this,f,g)},cloneProps:function(f){f.type=this.type;f.group=this.group;f.style=this.style;f.alpha=this.alpha;f.rotation=this.rotation;f.mouseEnabled=this.mouseEnabled;f.tickEnabled=this.tickEnabled;f.x=this.x;f.y=this.y;f.scaleX=this.scaleX;f.scaleY=this.scaleY;f.skewX=this.skewX;f.skewY=this.skewY;f.name=this.name;f.regX=this.regX*f.width/this.width;f.regY=this.regY*f.height/this.height;f.visible=this.visible;f.shadow=this.shadow;if(!this.type||this.type=="Shape"){zim.copyMatrix(f,this)}f.compositeOperation=this.compositeOperation;f.snapToPixel=this.snapToPixel;f.filters=this.filters==null?null:this.filters.slice(0);f.mask=this.mask;f.hitArea=this.hitArea;if((!this.type||this.type=="Shape")&&this._bounds){f.setBounds(this._bounds.x,this._bounds.y,this._bounds.width,this._bounds.height)}return f},cloneChildren:function(m){if(m.children.length){m.removeAllChildren()}var f=m.children;for(var j=0,g=this.children.length;j<g;j++){var k=this.children[j].clone();k.parent=m;f.push(k)}return m}};if(!zot(c)){var c=[];for(var a in d){c.push(a)}return c}for(var b in d){if(d.hasOwnProperty(b)){e[b]=d[b]}}Object.defineProperty(e,"width",{enumerable:true,get:function(){var f=this.getBounds();return(zot(f))?null:f.width*this.scaleX},set:function(i){var f=this.getBounds();if(zot(f)||f.width==0){zog("width needs bounds set with setBounds()");return}var g=i/f.width;this.scaleX=this.scaleY=g}});Object.defineProperty(e,"height",{enumerable:true,get:function(){var f=this.getBounds();return(zot(f))?null:f.height*this.scaleY},set:function(i){var f=this.getBounds();if(zot(f)||f.height==0){zog("height needs bounds set with setBounds()");return}var g=i/f.height;this.scaleX=this.scaleY=g}});Object.defineProperty(e,"widthOnly",{enumerable:true,get:function(){var f=this.getBounds();return(zot(f))?null:f.width*this.scaleX},set:function(i){var f=this.getBounds();if(zot(f)||f.width==0){zog("widthOnly needs bounds set with setBounds()");return}var g=i/f.width;this.scaleX=g}});Object.defineProperty(e,"heightOnly",{enumerable:true,get:function(){var f=this.getBounds();return(zot(f))?null:f.height*this.scaleY},set:function(i){var f=this.getBounds();if(zot(f)||f.height==0){zog("heightOnly needs bounds set with setBounds()");return}var g=i/f.height;this.scaleY=g}});Object.defineProperty(e,"depth",{enumerable:true,get:function(){return this._depth},set:function(f){this._depth=f;if(!zot(this.vrChannel)){var g=this.vrParallaxDistance?f*this.vrParallax*this.vrParallaxDistance:0;if(this.vrChannel=="left"){this.x=this.vrStartX+f+g}else{if(this.vrChannel=="right"){this.x=this.vrStartX-f+g}}}}});Object.defineProperty(e,"blendMode",{enumerable:true,get:function(){return this.compositeOperation},set:function(f){this.compositeOperation=f}});return e}var ignore;function zimplify(b){document.Window=Window;document.window=window;document.Blob=Blob;ignore="ignore";if(zot(b)){b=[]}if(!Array.isArray(b)){b=[b]}var a=zimify(null,true);var c=["loop","stopAnimate","pauseAnimate","animate","wiggle"];for(var d in zim){if((a.indexOf(d)==-1||c.indexOf(d)>=0)&&b.indexOf(d)==-1){window[d]=zim[d]}}window.KEYFOCUS=zim.KEYFOCUS;window.OPTIMIZE=zim.OPTIMIZE;window.ACTIONEVENT=zim.ACTIONEVENT;window.STYLE=zim.STYLE}var zim=function(a){return a}(zim||{});if(!window.zns&&window.zimplify){zimplify()};


        </script>



    </head>
    <body>

        {{> body}}



    </body>
</html>
